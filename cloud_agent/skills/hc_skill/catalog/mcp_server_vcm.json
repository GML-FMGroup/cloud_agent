{
  "server": "mcp_server_vcm",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_vcm.src.mcp_server_vcm.run",
  "serviceCode": "vcm",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_vcm/src/mcp_server_vcm/config/vcm.json",
  "toolCount": 8,
  "tools": [
    {
      "name": "CheckAudioJob",
      "description": "该 API 用于查询并显示单个作业详情。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "任务ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "task_id"
        ]
      }
    },
    {
      "name": "CreateAudioJob",
      "description": "该接口用于创建语音内容审核的作业。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          },
          "name": {
            "type": "string",
            "description": "作业名称,只能由字母(a~zA~Z)、数字(0~9)、中划线(-)、下划线(_)组成,长度范围为[1,100]。"
          },
          "description": {
            "type": "string",
            "description": "作业描述信息,最大长度为500字符长度。"
          },
          "input": {
            "required": [
              "type",
              "data"
            ],
            "type": "object",
            "description": "音频数据的输入列表",
            "properties": {
              "type": {
                "type": "string",
                "description": "视频数据的输入类型:",
                "enum": [
                  "obs",
                  "url"
                ]
              },
              "data": {
                "type": "array",
                "description": "数据输入内容",
                "items": {
                  "type": "object",
                  "description": "音频数据输入列表",
                  "properties": {
                    "bucket": {
                      "type": "string",
                      "description": "type为obs时输入参数"
                    },
                    "path": {
                      "type": "string",
                      "description": "type为obs时输入参数"
                    },
                    "url": {
                      "type": "string",
                      "description": "type为url时输入参数"
                    }
                  }
                }
              }
            }
          },
          "output": {
            "type": "object",
            "description": "音频数据的输出列表",
            "properties": {
              "obs": {
                "type": "object",
                "description": "obs输出位置",
                "properties": {
                  "bucket": {
                    "type": "string",
                    "example": "video-test",
                    "description": "存储结果文件的OBS桶名。"
                  },
                  "path": {
                    "type": "string",
                    "example": "output/",
                    "description": "结果文件的OBS桶内路径,例如“output/”。"
                  }
                }
              },
              "hosting": {
                "description": "托管输出位置",
                "type": "object",
                "properties": {
                  "obs": {
                    "type": "object",
                    "description": "结果文件result.json的OBS信息。",
                    "properties": {
                      "bucket": {
                        "type": "string",
                        "description": "obs桶名称",
                        "example": "video-test"
                      },
                      "path": {
                        "type": "string",
                        "description": "输出obs路径",
                        "example": "output/"
                      }
                    }
                  },
                  "result_json_overdue_at": {
                    "type": "string",
                    "description": "托管文件result.json的过期日期,文件默认保存48小时。"
                  },
                  "check_obs_after_end_state": {
                    "type": "boolean",
                    "description": "True表示校验obs。"
                  }
                }
              }
            }
          },
          "service_config": {
            "required": [
              "common"
            ],
            "type": "object",
            "description": "配置",
            "properties": {
              "common": {
                "required": [
                  "categories"
                ],
                "type": "object",
                "description": "检测场景",
                "properties": {
                  "categories": {
                    "type": "string",
                    "description": "检测场景。"
                  }
                }
              }
            }
          },
          "service_version": {
            "type": "string",
            "description": "功能版本为“1.0”。"
          }
        },
        "required": [
          "input",
          "name",
          "output",
          "project_id",
          "service_version"
        ]
      }
    },
    {
      "name": "CheckVideoJob",
      "description": "该API用于查询并显示单个作业详情。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "作业ID。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "task_id"
        ]
      }
    },
    {
      "name": "DeleteVideoJob",
      "description": "该API用于删除指定作业。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "任务ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "task_id"
        ]
      }
    },
    {
      "name": "DeleteDemoInfo",
      "description": "删除语音作业",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "作业ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "task_id"
        ]
      }
    },
    {
      "name": "ListAudioJobs",
      "description": "查询作业列表",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "maxLength": 36,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "CreateVideoJob",
      "description": "该接口用于创建视频内容审核的作业。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          },
          "name": {
            "type": "string",
            "description": "作业名称,只能由中文、字母(a~zA~Z)、数字(0~9)、中划线(-)、下划线(_)组成,长度范围为[1,100]。"
          },
          "description": {
            "type": "string",
            "description": "作业描述信息,最大长度为500字符长度。"
          },
          "input": {
            "required": [
              "type",
              "data"
            ],
            "type": "object",
            "description": "视频数据的输入列表,目前只支持以下输入类型,且只支持一路输入,不支持多个OBS文件或URL:",
            "properties": {
              "type": {
                "type": "string",
                "description": "视频数据的输入类型:",
                "enum": [
                  "obs",
                  "url",
                  "edgecamera",
                  "vis",
                  "edgerestful",
                  "vcn"
                ]
              },
              "data": {
                "type": "array",
                "description": "数据输入内容",
                "items": {
                  "type": "object",
                  "description": "视频数据输入列表",
                  "properties": {
                    "bucket": {
                      "type": "string",
                      "description": "type为obs时输入参数"
                    },
                    "path": {
                      "type": "string",
                      "description": "type为obs时输入参数"
                    },
                    "url": {
                      "type": "string",
                      "description": "type为url或edgerestful时输入参数"
                    },
                    "id": {
                      "type": "string",
                      "description": "type为edgecamera时输入参数"
                    },
                    "stream_name": {
                      "type": "string",
                      "description": "type为vis时输入参数"
                    },
                    "node_id": {
                      "type": "string",
                      "description": "type为edgerestful或vcn时输入参数"
                    },
                    "certificate_check": {
                      "type": "boolean",
                      "description": "type为edgerestful时输入参数"
                    },
                    "rtsp_path_in_response": {
                      "type": "string",
                      "description": "type为edgerestful时输入参数"
                    },
                    "device_id": {
                      "type": "string",
                      "description": "type为vcn时输入参数"
                    }
                  }
                }
              },
              "vcn": {
                "type": "object",
                "description": "当type是vcn是,vcn输入参数",
                "properties": {
                  "ip": {
                    "type": "string",
                    "description": "vcn服务器的IP地址。"
                  },
                  "port": {
                    "type": "string",
                    "description": "vcn服务器的端口号。"
                  },
                  "username": {
                    "type": "string",
                    "description": "vcn服务器的账号名。"
                  },
                  "password": {
                    "type": "string",
                    "description": "vcn服务器与上述账号对应的密码。"
                  }
                }
              }
            }
          },
          "output": {
            "type": "object",
            "description": "结果数据的输出列表",
            "properties": {
              "obs": {
                "description": "obs输出位置",
                "type": "object",
                "properties": {
                  "bucket": {
                    "type": "string",
                    "example": "video-test",
                    "description": "存储结果文件的OBS桶名。"
                  },
                  "path": {
                    "type": "string",
                    "example": "output/",
                    "description": "结果文件的OBS桶内路径,例如“output/”。"
                  }
                }
              },
              "hosting": {
                "description": "托管输出位置",
                "type": "object",
                "properties": {
                  "obs": {
                    "type": "object",
                    "description": "结果文件result.json的OBS信息。",
                    "properties": {
                      "bucket": {
                        "type": "string",
                        "description": "obs桶名称",
                        "example": "video-test"
                      },
                      "path": {
                        "type": "string",
                        "description": "输出obs路径",
                        "example": "output/"
                      }
                    }
                  },
                  "result_json_overdue_at": {
                    "type": "string",
                    "description": "托管文件result.json的过期日期,文件默认保存48小时。"
                  },
                  "check_obs_after_end_state": {
                    "type": "boolean",
                    "description": "True表示校验obs。"
                  }
                }
              },
              "dis": {
                "type": "object",
                "description": "DIS通道配置。",
                "properties": {
                  "stream_name": {
                    "type": "string",
                    "description": "DIS通道名。"
                  },
                  "data_category": {
                    "type": "string",
                    "description": "作业输出数据类别的列表,默认值为[]。有这个列表时,表示希望这个输出结果中存放dataCategory列表内的数据。"
                  }
                }
              },
              "webhook": {
                "type": "object",
                "description": "Webhook地址配置。",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "URL地址"
                  },
                  "headers": {
                    "type": "string",
                    "description": "header参数设置(键值均为用户设置)。"
                  },
                  "data_category": {
                    "type": "string",
                    "description": "作业输出数据类别的列表,默认值为[]。有这个列表时,表示希望这个输出结果中存放dataCategory列表内的数据。"
                  }
                }
              },
              "localpath": {
                "type": "object",
                "description": "LOCALPATH输出类型。",
                "properties": {
                  "mount_source_path": {
                    "type": "string",
                    "description": "挂载源路径,存放作业运行结果的路径,必须为linux路径,且最大长度为255,例如“/home”。"
                  },
                  "data_category": {
                    "type": "string",
                    "description": "作业输出数据类别的列表,默认值为[]。有这个列表时,表示希望这个输出结果中存放dataCategory列表内的数据。"
                  }
                }
              }
            }
          },
          "service_config": {
            "description": "服务算法配置",
            "type": "object",
            "properties": {
              "common": {
                "type": "object",
                "description": "服务算法配置",
                "properties": {
                  "frame_interval": {
                    "type": "integer",
                    "description": "截帧时间间隔,单位为秒/帧。",
                    "example": "5"
                  },
                  "categories": {
                    "type": "string",
                    "description": "视频检测场景。",
                    "example": "porn,politics"
                  },
                  "text_categories": {
                    "type": "string",
                    "description": "语音或文字审核服务的检测场景,目前主要支持以下几种:",
                    "example": "abuse,porn"
                  },
                  "use_sis": {
                    "description": "是否使用语音审核服务。",
                    "type": "string",
                    "example": "false"
                  },
                  "use_ocr": {
                    "type": "string",
                    "description": "是否使用文字审核服务。",
                    "example": "false"
                  },
                  "upload": {
                    "description": "是否使用问题场景图片上传服务。",
                    "type": "string",
                    "example": "false"
                  }
                }
              }
            }
          },
          "service_version": {
            "description": "功能版本为“1.2”。",
            "type": "string",
            "example": "1.2"
          }
        },
        "required": [
          "input",
          "name",
          "output",
          "project_id",
          "service_version"
        ]
      }
    },
    {
      "name": "ListVideoJobs",
      "description": "该API用于查询并显示视频内容审核的作业列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    }
  ]
}
