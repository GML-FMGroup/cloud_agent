{
  "server": "mcp_server_moderation",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_moderation.src.mcp_server_moderation.run",
  "serviceCode": "moderation",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_moderation/src/mcp_server_moderation/config/moderation.json",
  "toolCount": 9,
  "tools": [
    {
      "name": "RunCreateVideoModerationJob",
      "description": "创建视频内容审核作业,创建成功会将作业ID返回给用户",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "data": {
            "description": "视频数据输入",
            "required": [
              "url"
            ],
            "properties": {
              "url": {
                "type": "string",
                "example": "https://xxxx",
                "description": "视频url地址"
              },
              "frame_interval": {
                "type": "integer",
                "format": "int32",
                "example": 5,
                "description": "截帧频率间隔,单位为秒,取值范围为1~60s;若不传递默认5s截帧一次"
              },
              "language": {
                "type": "string",
                "description": "支持的语言,默认为zh",
                "example": "zh",
                "enum": [
                  "zh"
                ]
              }
            }
          },
          "biz_type": {
            "type": "string",
            "description": "用户在控制台界面创建的biz_type名称,如果请求参数中传了biz_type则优先使用biz_type;如果用户没传biz_type则event_type和image_categories必须传。"
          },
          "event_type": {
            "type": "string",
            "example": "default",
            "description": "事件类型,可选值如下:",
            "enum": [
              "default"
            ]
          },
          "image_categories": {
            "type": "array",
            "items": {
              "type": "string",
              "example": "",
              "enum": [
                "porn",
                "politics",
                "terrorism",
                "image_text"
              ]
            },
            "example": "[\"porn\",\"politics\",\"terrorism\",\"image_text\"]",
            "description": "视频中画面需要检测的风险类型,列表不能为空。"
          },
          "audio_categories": {
            "type": "array",
            "items": {
              "type": "string",
              "example": "",
              "enum": [
                "porn",
                "ad",
                "politics",
                "moan",
                "abuse"
              ]
            },
            "example": "[\"porn\",\"ad\",\"politics\",\"moan\",\"abuse\"]",
            "description": "视频中音频需要检测的风险类型,不传或为空时表示不审核音频维度。"
          },
          "callback": {
            "type": "string",
            "example": "http://xxxx",
            "description": "回调http接口:当该字段非空时,服务将根据该字段回调通知用户审核结果。"
          },
          "seed": {
            "type": "string",
            "description": "用于回调通知时校验请求由华为云内容安全服务发起,由您自定义。随机字符串,由英文字母、数字、下划线组成,不超过64个字符。"
          }
        },
        "required": [
          "data",
          "project_id"
        ]
      }
    },
    {
      "name": "RunTextModeration",
      "description": "分析并识别用户上传的文本内容是否有敏感内容(如色情、政治等),并将识别结果返回给用户",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "event_type": {
            "type": "string",
            "description": "事件类型。",
            "example": "comment"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "文本审核场景,可选值如下:",
            "example": [
              "porn",
              "ad"
            ]
          },
          "glossary_names": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "检测时使用的自定义黑名单词库列表。自定义黑词库的创建和使用请参见[配置定义黑名单词库](https://support.huaweicloud.com/api-moderation/moderation_03_0027.html#moderation_03_0027__section12400140132318)。",
            "example": [
              "custom_xxx"
            ]
          },
          "data": {
            "properties": {
              "text": {
                "type": "string",
                "description": "待检测文本,编码格式为“utf-8”,限定2000个字符以内,文本长度超过10000个字符时,只检测前10000个字符。",
                "minLength": 1,
                "maxLength": 10000,
                "example": "asdfasdfasdf"
              },
              "language": {
                "type": "string",
                "description": "支持检测的文本语言",
                "example": "zh",
                "enum": [
                  "zh"
                ]
              }
            },
            "required": [
              "text"
            ],
            "type": "object"
          },
          "white_glossary_names": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "检测时使用的自定义白名单词库列表。自定义白词库的创建和使用请参见[配置定义白名单词库](https://support.huaweicloud.com/api-moderation/moderation_03_0027.html#moderation_03_0027__section178844141394)。",
            "example": [
              "custom_xxx"
            ]
          },
          "biz_type": {
            "type": "string",
            "description": "自定义审核策略名称,可在控制台配置;如果请求参数中传了biz_type则优先使用biz_type,如果用户没传biz_type则event_type必须传。",
            "example": "my_custom_type"
          }
        },
        "required": [
          "data",
          "project_id"
        ]
      }
    },
    {
      "name": "CheckImageModeration",
      "description": "分析并识别用户上传的图像内容是否有敏感内容(如涉及暴恐元素、涉黄内容等),并将识别结果返回给用户。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "event_type": {
            "type": "string",
            "description": "事件类型。",
            "example": "comment"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "检测场景。可添加的检测场景如下:"
          },
          "image_text_config": {
            "properties": {
              "black_glossary_names": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "检测时使用的自定义黑名单词库列表。"
              },
              "white_glossary_names": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "检测时使用的自定义白名单词库列表。"
              }
            },
            "type": "object",
            "description": "图文审核黑白词库配置。"
          },
          "url": {
            "type": "string",
            "description": "图片url, 与image二选一,目前支持:",
            "example": "http://xxxxxx.com/qweqeqeqzzxfdwef.jpg"
          },
          "image": {
            "type": "string",
            "description": "与url二选一,图片文件Base64编码字符串,要求base64编码后大小不超过10M,支持JPG/PNG/JPEG/WEBP/GIF/TIFF/TIF/HEIF等格式。",
            "example": "/9j/4QO3RXhpZgAATU0AKgAAAAgADQEDAAMAAAABAAYAAAEBAAQAAAABAAAKawEPAAIAAAAFAAAAqgESAAMAAAABAAAAAAEyAAIAAAAUAAAArwEbAAUAAAABAAAAwwEaAAUAAAABAAAAywEAAAQAAAABAAAH0AEQAAIAAAAIAAAA0wExAAIAAAAcAAAA2wITAAMAAAABAAIAAIdpAAQAAAABAAAA9wEoAAMAAAABAAIAAAAAAABPUFBPADIwMTk6MDg6MjAgMTE6NDM6NTUAAAAASAAAAAEAAABIAAAAAU9QUE8gQTkATWVkaWFUZWsgQ2FtZXJhIEFwcGxpY2F0aW9uAAAbkAAAAgAAAAUAAAJBkgQACgAA"
          },
          "biz_type": {
            "type": "string",
            "description": "自定义审核策略名称,可在控制台配置;如果请求参数中传了biz_type则优先使用biz_type,如果用户没传biz_type则event_type和categories必须传。",
            "example": "test_type"
          },
          "language": {
            "type": "string",
            "description": "可指定图片中文字语种类型",
            "example": "zh",
            "enum": [
              "zh"
            ]
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "BatchCheckImageSync",
      "description": "图像审核批量同步接口",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目id。获取方法详见获取项目ID。",
            "type": "string",
            "in": "path"
          },
          "event_type": {
            "type": "string",
            "example": "comment",
            "description": "事件类型。可选值如下:"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "string"
            ],
            "description": "检测场景。可添加的检测场景如下:"
          },
          "image_text_config": {
            "description": "图文审核黑白词库配置。",
            "properties": {
              "black_glossary_names": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "string"
                ],
                "description": "检测时使用的自定义黑名单词库列表。"
              },
              "white_glossary_names": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "string"
                ],
                "description": "检测时使用的自定义白名单词库列表。"
              }
            }
          },
          "urls": {
            "type": "array",
            "items": {
              "required": [
                "url",
                "data_id"
              ],
              "properties": {
                "url": {
                  "type": "string",
                  "description": "图片url,目前支持:公网HTTP/HTTPS URL。"
                },
                "data_id": {
                  "type": "string",
                  "description": "图片唯一标识。同一次请求中不可重复,由大小写英文字母、数字、下划线(_)、中划线(-)组成,不超过30个字符。"
                }
              }
            },
            "example": [
              "http://xxxxxx.com/qweqeqeqz.jpg",
              "http://xxxxxx.com/zxfdwef.jpg"
            ],
            "description": "图片url列表。"
          },
          "language": {
            "type": "string",
            "example": "zh",
            "description": "指定图片中文字语种类型。"
          },
          "biz_type": {
            "type": "string",
            "example": "test_type",
            "description": "用户在控制台界面创建的自定义审核策略名称。"
          }
        },
        "required": [
          "project_id",
          "urls"
        ]
      }
    },
    {
      "name": "RunCloseAudioStreamModerationJob",
      "description": "关闭音频流内容审核作业",
      "inputSchema": {
        "type": "object",
        "properties": {
          "job_id": {
            "description": "创建作业成功时,接口返回的job_id。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "job_id",
          "project_id"
        ]
      }
    },
    {
      "name": "RunQueryAudioModerationJob",
      "description": "查询音频内容审核作业",
      "inputSchema": {
        "type": "object",
        "properties": {
          "job_id": {
            "description": "创建作业成功时,接口返回的job_id。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "job_id",
          "project_id"
        ]
      }
    },
    {
      "name": "RunCreateAudioModerationJob",
      "description": "分析并识别用户上传的音频内容是否有敏感内容(如色情、政治等),并将识别结果返回给用户",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "data": {
            "properties": {
              "url": {
                "type": "string",
                "description": "音频url地址。",
                "example": "asdfasdfasdf"
              },
              "language": {
                "type": "string",
                "description": "支持的语言,默认为zh,zh:中文"
              }
            },
            "description": "音频数据输入",
            "required": [
              "url"
            ],
            "type": "object"
          },
          "biz_type": {
            "type": "string",
            "description": "用户在控制台界面创建的biz_type名称,如果请求参数中传了biz_type则优先使用biz_type;如果用户没传biz_type则event_type和categories必须传。"
          },
          "event_type": {
            "type": "string",
            "description": "事件类型,可选值如下:",
            "example": "comment",
            "enum": [
              "default",
              "audiobook",
              "education",
              "game",
              "live",
              "ecommerce",
              "voiceroom",
              "private"
            ]
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "politics",
                "porn",
                "ad",
                "moan",
                "abuse"
              ]
            },
            "description": "需要检测的风险类型,列表不能为空。"
          },
          "callback": {
            "type": "string",
            "description": "回调http接口:当该字段非空时,服务将根据该字段回调通知用户审核结果。"
          },
          "seed": {
            "type": "string",
            "description": "用于回调通知时校验请求由华为云内容安全服务发起,由您自定义。随机字符串,由英文字母、数字、下划线组成,不超过64个字符。"
          }
        },
        "required": [
          "data",
          "project_id"
        ]
      }
    },
    {
      "name": "RunCreateAudioStreamModerationJob",
      "description": "创建音频流内容审核作业,创建成功会将作业ID返回给用户",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "data": {
            "description": "音频流数据输入",
            "required": [
              "url"
            ],
            "properties": {
              "url": {
                "type": "string",
                "description": "音频流url地址,支持rtmp、rtmps、hls、http、https等主流协议。"
              },
              "language": {
                "type": "string",
                "description": "指定音频流中语种类型 zh: 中文,默认值为zh"
              },
              "return_all_results": {
                "type": "boolean",
                "description": "返回音频片段结果的策略。可选值如下:"
              }
            }
          },
          "event_type": {
            "type": "string",
            "description": "事件类型,可选值如下:"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "需要检测的风险类型,列表不能为空。"
          },
          "callback": {
            "type": "string",
            "description": "回调http接口,服务将根据该字段回调通知用户审核结果,流未结束时,回调审核违规内容,流结束时,审核片段违规或不违规都将回调客户端。"
          },
          "seed": {
            "type": "string",
            "description": "用于回调通知时校验请求由华为云内容安全服务发起,由您自定义。随机字符串,由英文字母、数字、下划线组成,不超过64个字符。"
          }
        },
        "required": [
          "callback",
          "categories",
          "data",
          "event_type",
          "project_id"
        ]
      }
    },
    {
      "name": "RunQueryVideoModerationJob",
      "description": "查询视频审核作业处理状态与结果,并将识别结果返回给用户",
      "inputSchema": {
        "type": "object",
        "properties": {
          "job_id": {
            "description": "创建作业成功时,接口返回的job_id。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "用户的project_id 登陆华为云 -> 用户中心 -> 我的凭证 -> api凭证 即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "job_id",
          "project_id"
        ]
      }
    }
  ]
}
