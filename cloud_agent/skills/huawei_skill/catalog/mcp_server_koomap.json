{
  "server": "mcp_server_koomap",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_koomap.src.mcp_server_koomap.run",
  "serviceCode": "koomap",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_koomap/src/mcp_server_koomap/config/koomap.json",
  "toolCount": 40,
  "tools": [
    {
      "name": "ListImageBaseInfo",
      "description": "根据过滤条件查询卫星影像信息列表。过滤条件有:影像名称、上传日期、影像别名、影像等级、影像状态、是否为成果数据、分页偏移量、每页显示条数。",
      "inputSchema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "StartVps",
      "description": "视觉定位是根据图像耦合GPS数据确定设备的位置的一项技术。首先通过拍摄一系列具有已知位置的图像并分析它们的关键视觉特征(例如建筑物或桥梁的轮廓)来创建地图,以创建这些视觉特征的大规模且可快速搜索的索引。将设备图像中的特征与索引中的特征进行比较,可获得目标设备的位姿。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "payload": {
            "type": "object",
            "description": "请求体。",
            "properties": {
              "user": {
                "type": "object",
                "description": "用户相关信息。",
                "properties": {
                  "vpsMode": {
                    "type": "string",
                    "example": "",
                    "description": "vps的运行模式,目前支持FullMode。"
                  },
                  "vpsType": {
                    "type": "string",
                    "example": "",
                    "description": "vps的定位方法,目前支持GVPS。"
                  },
                  "requestType": {
                    "type": "integer",
                    "format": "int32",
                    "example": 2,
                    "description": "请求的设备类型。"
                  },
                  "image": {
                    "type": "string",
                    "example": "",
                    "description": "base64编码的图片信息。"
                  }
                },
                "required": [
                  "image"
                ]
              },
              "camera": {
                "type": "object",
                "description": "相机内参。",
                "properties": {
                  "fx": {
                    "type": "number",
                    "format": "float",
                    "example": 488.98218,
                    "description": "相机内参,焦距fx。"
                  },
                  "fy": {
                    "type": "number",
                    "format": "float",
                    "example": 488.98218,
                    "description": "相机内参,焦距fy。"
                  },
                  "cx": {
                    "type": "integer",
                    "format": "int32",
                    "example": 320,
                    "description": "相机内参,相机光心坐标cx。"
                  },
                  "cy": {
                    "type": "integer",
                    "format": "int32",
                    "example": 240,
                    "description": "相机内参,相机光心坐标cy。"
                  }
                },
                "required": [
                  "cx",
                  "cy",
                  "fx",
                  "fy"
                ]
              },
              "imu": {
                "type": "array",
                "description": "imu内参。",
                "items": {
                  "type": "object",
                  "properties": {
                    "accuracy": {
                      "type": "number",
                      "format": "double",
                      "example": 0.0,
                      "description": "误差值。"
                    },
                    "azimuth": {
                      "type": "number",
                      "format": "double",
                      "example": 1.0,
                      "description": "欧拉角参数。"
                    },
                    "roll": {
                      "type": "number",
                      "format": "double",
                      "example": 92.0,
                      "description": "欧拉角参数。"
                    },
                    "pitch": {
                      "type": "number",
                      "format": "double",
                      "example": 3.0,
                      "description": "欧拉角参数。"
                    },
                    "qx": {
                      "type": "number",
                      "format": "double",
                      "example": 0.725345792681343,
                      "description": "旋转向量qx。"
                    },
                    "qy": {
                      "type": "number",
                      "format": "double",
                      "example": 0.006287566677248894,
                      "description": "旋转向量qy。"
                    },
                    "qz": {
                      "type": "number",
                      "format": "double",
                      "example": -0.01797792458112125,
                      "description": "旋转向量qz。"
                    },
                    "qw": {
                      "type": "number",
                      "format": "double",
                      "example": 0.6881211679439231,
                      "description": "旋转向量qw。"
                    }
                  },
                  "required": [
                    "accuracy",
                    "azimuth",
                    "pitch",
                    "qw",
                    "qx",
                    "qy",
                    "qz",
                    "roll"
                  ]
                }
              },
              "gps": {
                "type": "array",
                "description": "gps相关信息。",
                "items": {
                  "type": "object",
                  "properties": {
                    "longitude": {
                      "type": "number",
                      "format": "double",
                      "example": 121.60036508716063,
                      "description": "经度。"
                    },
                    "latitude": {
                      "type": "number",
                      "format": "double",
                      "example": 31.24792009533886,
                      "description": "纬度。"
                    },
                    "accuracy": {
                      "type": "number",
                      "format": "float",
                      "example": 330.0,
                      "description": "误差值。"
                    }
                  },
                  "required": [
                    "accuracy",
                    "latitude",
                    "longitude"
                  ]
                }
              },
              "slam": {
                "type": "array",
                "description": "slam相关信息。",
                "items": {
                  "type": "object",
                  "properties": {
                    "x": {
                      "type": "number",
                      "format": "double",
                      "example": 0.0,
                      "description": "坐标参数x。"
                    },
                    "y": {
                      "type": "number",
                      "format": "double",
                      "example": 0.0,
                      "description": "坐标参数y。"
                    },
                    "z": {
                      "type": "number",
                      "format": "double",
                      "example": 0.0,
                      "description": "坐标参数z。"
                    },
                    "qx": {
                      "type": "number",
                      "format": "double",
                      "example": 0.08979502499999997,
                      "description": "旋转向量qx。"
                    },
                    "qy": {
                      "type": "number",
                      "format": "double",
                      "example": -0.06832012500000001,
                      "description": "旋转向量qy。"
                    },
                    "qz": {
                      "type": "number",
                      "format": "double",
                      "example": 0.7231338949999999,
                      "description": "旋转向量qz。"
                    },
                    "qw": {
                      "type": "number",
                      "format": "double",
                      "example": -0.6814298249999999,
                      "description": "旋转向量qw。"
                    }
                  },
                  "required": [
                    "qw",
                    "qx",
                    "qy",
                    "qz",
                    "x",
                    "y",
                    "z"
                  ]
                }
              }
            },
            "required": [
              "camera",
              "gps",
              "imu",
              "slam",
              "user"
            ]
          }
        },
        "required": [
          "payload"
        ]
      }
    },
    {
      "name": "DeleteSpurPoint",
      "description": "根据刺点ID,删除图片上的刺点。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "刺点ID。"
          }
        },
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "ShowTaskOverview",
      "description": "查看工作共享空间下的任务概览,包括全部任务数量以及成功、执行中、失败、已归档状态的任务数量。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "任务所属工作共享空间ID。",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "query"
          }
        },
        "required": [
          "workspace_id"
        ]
      }
    },
    {
      "name": "StartNavi",
      "description": "AR导航是新型的地图导航方法,基于摄像头实时捕捉的实景画面,将地图导航信息通过数字内容的形态叠加在实景画面中,生成虚拟的3D导航指引。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "payload": {
            "type": "object",
            "description": "导航服务请求体。",
            "properties": {
              "from": {
                "type": "object",
                "description": "起始位置。",
                "properties": {
                  "x": {
                    "type": "string",
                    "description": "X坐标。"
                  },
                  "y": {
                    "type": "string",
                    "description": "Y坐标。"
                  },
                  "z": {
                    "type": "string",
                    "description": "Z坐标。"
                  }
                },
                "required": [
                  "x",
                  "y",
                  "z"
                ]
              },
              "to": {
                "type": "object",
                "description": "终点位置。",
                "properties": {
                  "x": {
                    "type": "string",
                    "description": "X坐标。"
                  },
                  "y": {
                    "type": "string",
                    "description": "Y坐标。"
                  },
                  "z": {
                    "type": "string",
                    "description": "Z坐标。"
                  }
                },
                "required": [
                  "x",
                  "y",
                  "z"
                ]
              },
              "utm": {
                "type": "string",
                "description": "地区UTM编码。"
              }
            },
            "required": [
              "from",
              "to",
              "utm"
            ]
          }
        },
        "required": [
          "payload"
        ]
      }
    },
    {
      "name": "DeleteTask",
      "description": "用于任务的删除。只有失败、未运行、停止成功状态的任务可以删除,删除成功后任务不在任务列表中显示。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "description": "任务或者工作空间ID。",
            "type": "string"
          }
        },
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "UpdateReal3DTask",
      "description": "该接口用于更新任务信息,包括名称、类型、描述、建模影像ID、建模参数以及建模坐标系。任务更新成功后状态更新为初始化(INIT)。仅支持更新非运行状态且未完成的任务:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "实景三维任务ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_name": {
            "type": "string",
            "description": "任务名称。支持中文、英文、数字以及“_”字符,长度限制1~50个字符。"
          },
          "task_type": {
            "type": "string",
            "description": "任务类型。"
          },
          "modeling_type": {
            "type": "string",
            "description": "建模类型。"
          },
          "task_description": {
            "type": "string",
            "description": "任务描述。支持中文、英文、数字以及“_”字符,长度限制255个字符以内。"
          },
          "folder_code": {
            "type": "string",
            "description": "需要进行三维重建的倾斜影像的影像code。"
          },
          "modeling_params": {
            "type": "object",
            "description": "实景三维建模参数。",
            "properties": {
              "accuracy": {
                "type": "string",
                "description": "空三精度。取值包括:Highest、High、Medium、Low、Lowest。缺省值:High。"
              },
              "key_point_limit": {
                "type": "string",
                "format": "int32",
                "description": "空三关键点数量。取值范围:1000~1000000。缺省值:40000。"
              },
              "tie_point_limit": {
                "type": "string",
                "format": "int32",
                "description": "空三连接点数量。取值范围:100~100000。缺省值:4000。"
              },
              "mesh_accuracy": {
                "type": "string",
                "format": "int32",
                "description": "Mesh重建质量。枚举值:",
                "default": 0
              }
            },
            "required": [
              "accuracy",
              "key_point_limit",
              "tie_point_limit",
              "mesh_accuracy"
            ]
          },
          "coordinate_sys": {
            "type": "string",
            "description": "建模坐标系。缺省值:WGS84-UTM。"
          }
        },
        "required": [
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "CreateTask",
      "description": "在工作共享空间内新建数据处理任务,新建任务的“成果影像名称”参数可从“校验原始影像文件”接口中获取。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_name": {
            "type": "string",
            "description": "任务名称,支持中英文、数字和“_”,长度为[1,50]。",
            "pattern": "[\\u4e00-\\u9fa5_a-zA-Z0-9_]{1,50}",
            "minLength": 1,
            "maxLength": 50
          },
          "task_type": {
            "type": "string",
            "description": "任务类型,当前仅支持ORSIP(卫星影像生产)。"
          },
          "workspace_id": {
            "type": "string",
            "description": "任务所属工作共享空间ID。",
            "minLength": 32,
            "maxLength": 32,
            "pattern": "^[a-z0-9]{32}$"
          },
          "data_ids": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^[a-z0-9]{32}$"
            },
            "description": "待处理影像文件ID列表。"
          },
          "shape_id": {
            "type": "string",
            "description": "矢量数据文件ID,“isClip”为“1”时必填。",
            "minLength": 32,
            "maxLength": 32,
            "pattern": "^[a-z0-9]{32}$"
          },
          "production_level": {
            "type": "string",
            "description": "任务输出结果影像级别,当前支持以下级别: L2、L3、L4、L5。"
          },
          "task_description": {
            "type": "string",
            "description": "任务描述,支持中英文、数字和“_”,长度为[0,255]。",
            "minLength": 0,
            "maxLength": 255,
            "pattern": "[\\u4e00-\\u9fa5_a-zA-Z0-9_]{0,255}"
          },
          "data_alias": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "成果影像别名。"
          },
          "coordination": {
            "type": "string",
            "description": "成果影像坐标。"
          },
          "data_description": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "成果影像描述。"
          },
          "csv_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "生产资料(csv文件)ID。"
          },
          "isClip": {
            "type": "string",
            "description": "是否为矢量切割。"
          },
          "isTile": {
            "type": "string",
            "description": "是否为金字塔切割。"
          }
        },
        "required": [
          "coordination",
          "csv_ids",
          "data_alias",
          "data_description",
          "data_ids",
          "isClip",
          "isTile",
          "production_level",
          "task_name",
          "task_type",
          "workspace_id"
        ]
      }
    },
    {
      "name": "ListReal3DRefineProducts",
      "description": "查询实景三维精修后处理成果的数据列表。支持的过滤参数:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "order_by": {
            "description": "排序参数,支持task_name_asc(原始实景三维建模任务名称增序)、task_name_desc(原始实景三维建模任务名称降序)、subtask_name_asc(精修后处理任务别名增序)、subtask_name_desc(精修后处理任务别名降序)。",
            "type": "string",
            "in": "query"
          },
          "subtask_completed_time_to": {
            "description": "精修后处理任务完成截止时间,为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "subtask_completed_time_from": {
            "description": "精修后处理任务完成起始时间,为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "subtask_create_time_to": {
            "description": "精修后处理任务创建截止时间,为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "subtask_create_time_from": {
            "description": "精修后处理任务创建起始时间,为UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "subtask_name": {
            "description": "精修后处理任务别名。",
            "type": "string",
            "in": "query"
          },
          "task_name": {
            "description": "原始实景三维建模任务名称。",
            "type": "string",
            "in": "query"
          },
          "refine_product_id": {
            "description": "精修后处理成果数据ID。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          }
        }
      }
    },
    {
      "name": "ListSpurPoints",
      "description": "获取单张图片里的所有刺点信息。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "imageCode": {
            "type": "string",
            "description": "图片ID。"
          },
          "taskId": {
            "type": "string",
            "description": "刺点所属的任务ID。"
          },
          "offset": {
            "type": "integer",
            "format": "int32",
            "description": "偏移量。",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "分页大小。",
            "default": 10,
            "minimum": 1,
            "maximum": 100
          }
        },
        "required": [
          "imageCode",
          "taskId"
        ]
      }
    },
    {
      "name": "UpdateTaskArchivedStatus",
      "description": "任务的归档和取消归档操作,归档成功之后的任务不会在任务列表显示。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "archived": {
            "description": "是否归档。",
            "type": "boolean",
            "in": "query"
          },
          "id": {
            "description": "任务或者工作空间ID。",
            "type": "string"
          }
        },
        "required": [
          "archived",
          "id"
        ]
      }
    },
    {
      "name": "ListFolder",
      "description": "根据过滤条件查询当前租户的倾斜影像基本信息列表。过滤条件有:影像名称、影像别名、影像上传起止时间、影像状态、影像描述、分页偏移量、每页显示条数,影像排序规则。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int32",
            "description": "偏移量,表示从第几条记录开始查询。"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "每页显示条数。"
          },
          "condition": {
            "type": "object",
            "properties": {
              "folder_name": {
                "type": "string",
                "example": "string",
                "description": "倾斜影像名称。支持中文、英文、数字以及“_”、“-”、“.”字符,长度限制为[1, 100]。"
              },
              "folder_alias": {
                "type": "string",
                "example": "string",
                "description": "倾斜影像别名。支持中文、英文、数字以及“_”、“-”、“.”字符,长度限制为[1, 100]。"
              },
              "folder_desc": {
                "type": "string",
                "example": "string",
                "description": "倾斜影像描述。支持中文、英文、数字以及“_”、“-”、“.”字符,长度限制为[0, 255]。"
              },
              "from": {
                "type": "string",
                "description": "倾斜影像上传起始时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。"
              },
              "to": {
                "type": "string",
                "description": "倾斜影像上传结束时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。"
              },
              "status": {
                "type": "string",
                "description": "倾斜影像状态。当前仅支持处理中(0)、已完成(1)、导入失败(2)。"
              },
              "order": {
                "type": "string",
                "description": "倾斜影像排序规则。"
              }
            },
            "description": "查询条件。"
          }
        },
        "required": [
          "limit",
          "offset"
        ]
      }
    },
    {
      "name": "DeleteReal3DSubTask",
      "description": "该接口可用于删除状态为初始化(INIT)、上传成功(UPLOAD_SUCCESS)、上传失败(UPLOAD_FAILED)、启动失败(START_FAILED)、运行成功(SUCCESS)、运行失败(FAILED)或已停止(STOP_SUCCESS)的精修后处理任务。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "原始实景三维建模任务ID。",
            "type": "string",
            "in": "path"
          },
          "subtask_id": {
            "description": "实景三维精修后处理任务ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "subtask_id",
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "StopTask",
      "description": "停止任务。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "description": "任务或者工作空间ID。",
            "type": "string"
          }
        },
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "ListUsageInfo",
      "description": "您可以查询时空专属存储服务或卫星影像生产服务的用量统计。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "offset": {
            "description": "偏移量,表示从第几条记录开始查询。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "usage_type": {
            "description": "查询的用量类型。",
            "type": "string",
            "in": "query"
          }
        },
        "required": [
          "usage_type"
        ]
      }
    },
    {
      "name": "CreateCommonWorkspace",
      "description": "该接口支持创建工作共享空间,便于对任务进行分类管理。一个租户创建的工作共享空间上限为500个,工作共享空间名称不能重复(大小写不敏感)。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_name": {
            "type": "string",
            "description": "工作共享空间名称。支持中文、英文、数字以及“_”字符,长度限制2~50个字符。"
          },
          "workspace_description": {
            "type": "string",
            "description": "工作共享空间描述。支持中文、英文、数字以及“_”字符,长度限制200个字符以内。"
          }
        },
        "required": [
          "workspace_name"
        ]
      }
    },
    {
      "name": "CreateReal3DTask",
      "description": "创建实景三维建模任务时,必须绑定工作共享空间。每个工作共享空间内可绑定的任务上限为500个,任务名称需唯一,不能重复(大小写不敏感)。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_name": {
            "type": "string",
            "description": "任务名称。支持中文、英文、数字以及“_”字符,长度限制1~50个字符。"
          },
          "task_description": {
            "type": "string",
            "description": "任务描述。支持中文、英文、数字以及“_”字符,长度限制255个字符以内。"
          },
          "task_type": {
            "type": "string",
            "description": "任务类型。"
          },
          "modeling_type": {
            "type": "string",
            "description": "建模类型。"
          },
          "modeling_params": {
            "type": "object",
            "description": "实景三维建模参数。",
            "properties": {
              "accuracy": {
                "type": "string",
                "description": "空三精度。取值包括:Highest、High、Medium、Low、Lowest。缺省值:High。"
              },
              "key_point_limit": {
                "type": "string",
                "format": "int32",
                "description": "空三关键点数量。取值范围:1000~1000000。缺省值:40000。"
              },
              "tie_point_limit": {
                "type": "string",
                "format": "int32",
                "description": "空三连接点数量。取值范围:100~100000。缺省值:4000。"
              },
              "mesh_accuracy": {
                "type": "string",
                "format": "int32",
                "description": "Mesh重建质量。枚举值:",
                "default": 0
              }
            },
            "required": [
              "accuracy",
              "key_point_limit",
              "tie_point_limit",
              "mesh_accuracy"
            ]
          },
          "folder_code": {
            "type": "string",
            "description": "需要进行三维重建的倾斜影像的影像code。"
          },
          "coordinate_sys": {
            "type": "string",
            "description": "建模坐标系。坐标系当前仅支持WGS84-UTM。输入为null或者不填时,均使用缺省值WGS84-UTM。"
          }
        },
        "required": [
          "task_name",
          "workspace_id"
        ]
      }
    },
    {
      "name": "StopReal3DTask",
      "description": "可停止任务状态为等待中(PENDING)、启动中(STARTING)或者运行中(RUNNING)的任务。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "实景三维任务ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "DeleteCommonWorkspace",
      "description": "该接口用于删除一个工作共享空间。在删除之前,必须保证空间未被置顶且空间内没有任务,否则会删除失败。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "待删除的工作共享空间ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "workspace_id"
        ]
      }
    },
    {
      "name": "ShowTaskOverviewInWorkspace",
      "description": "该接口用于展示工作共享空间内任务的概览信息。包含:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "workspace_id"
        ]
      }
    },
    {
      "name": "StartReal3DTask",
      "description": "该接口用于启动任务。该接口运行成功后,任务状态更新为等待中(PENDING),此时任务添加到启动队列中等待运行资源就绪。资源就绪后任务状态更新为启动中(STARTING),启动成功后任务状态更新为运行中(RUNNING),若启动失败则任务状态更新为启动失败(START_FAILED)。当建模任务类型为有控建模时,为了提升刺点效率需要先对影像进行空三建模。执行空三建模需要设置请求体的“run_AT_only”为“true”,空三建模成功后,任务状态更新为空三建模成功(BUNDLE_SUCCESS)。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "任务ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "run_AT_only": {
            "type": "boolean",
            "description": "是否为进行空三建模的阶段,缺省时为“false”,仅支持有控建模类型任务设置“true”。取值为“true”时表示进行空三建模,建模完成后对应的任务状态为空三建模成功(BUNDLE_SUCCESS)。"
          }
        },
        "required": [
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "ListReal3DSubTasks",
      "description": "对单个实景三维建模任务内的精修后处理任务进行分页查询,支持过滤条件:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "update_time_to": {
            "description": "更新精修后处理任务的截止时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "update_time_from": {
            "description": "更新精修后处理任务的起始时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_to": {
            "description": "创建精修后处理任务的截止时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_from": {
            "description": "创建精修后处理任务的起始时间。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "subtask_status": {
            "description": "根据精修后处理任务状态查询,支持输入多个状态。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "subtask_name": {
            "description": "精修后处理任务别名,支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "subtask_id": {
            "description": "精修后处理任务ID。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          },
          "task_id": {
            "description": "原始实景三维建模任务ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "ValidateImage",
      "description": "校验原始影像文件是否满足匹配规则(全色与多光谱一一对应或全为多光谱)并返回成果影像名称。如果不满足匹配规则,会以报错方式提示用户。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "data_ids": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^[a-z0-9]{32}$"
            },
            "description": "影像文件ID集合。"
          },
          "production_level": {
            "type": "string",
            "description": "处理等级,当前支持以下等级: L2、L3、L4、L5。"
          },
          "task_name": {
            "type": "string",
            "description": "任务名称。",
            "pattern": "^[\\u4e00-\\u9fa5_a-zA-Z0-9_]{1,50}$"
          },
          "coordination": {
            "type": "string",
            "description": "坐标系。"
          }
        },
        "required": [
          "coordination",
          "data_ids",
          "production_level",
          "task_name"
        ]
      }
    },
    {
      "name": "ListTasksInWorkspace",
      "description": "对单个工作共享空间内的任务进行分页查询,支持过滤条件:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_status": {
            "description": "根据任务状态查询。支持过滤多个任务状态。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "task_ids": {
            "description": "根据任务ID查询。支持过滤多个任务ID。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "update_time_to": {
            "description": "更新时间终止。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "update_time_from": {
            "description": "更新时间起始。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_to": {
            "description": "创建时间终止。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_from": {
            "description": "创建时间起始。格式为UTC时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "modeling_type": {
            "description": "建模类型。支持Mesh和Nerf。",
            "type": "string",
            "in": "query"
          },
          "task_type": {
            "description": "任务类型。支持过滤多种任务类型。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "task_name": {
            "description": "任务名称。支持中文、英文、数字以及“_”字符,长度限制1~50个字符。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量。查询时忽略的记录数量。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "workspace_id"
        ]
      }
    },
    {
      "name": "ShowReal3DUsage",
      "description": "您可以查询实景三维生产服务时空专属存储或影像建模的用量统计。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "usage_type": {
            "description": "查询的用量类型。",
            "type": "string",
            "in": "query"
          }
        },
        "required": [
          "usage_type"
        ]
      }
    },
    {
      "name": "UpdateCommonWorkspace",
      "description": "该接口用于工作共享空间信息的更新。可以更新的内容包括:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_name": {
            "type": "string",
            "description": "工作共享空间名称。支持中文、英文、数字以及“_”字符,长度限制2~50个字符。"
          },
          "workspace_description": {
            "type": "string",
            "description": "工作共享空间描述。支持中文、英文、数字以及“_”字符,长度限制200个字符以内。"
          },
          "star": {
            "type": "integer",
            "format": "int32",
            "description": "工作共享空间是否置顶显示(最多可置顶4个)。"
          }
        },
        "required": [
          "workspace_id"
        ]
      }
    },
    {
      "name": "DeleteReal3DTask",
      "description": "该接口用于删除状态为初始化(INIT)、启动失败(START_FAILED)、运行失败(FAILED)、已停止(STOP_SUCCESS)或运行成功(SUCCESS)的任务。注意:删除任务不影响已完成建模的三维成果影像数据。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "实景三维任务ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "ListTaskInfo",
      "description": "根据设置的过滤条件(任务状态)分页查询任务。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量,从第几条记录开始查询。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          },
          "create_time_end": {
            "description": "创建结束时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_start": {
            "description": "创建开始时间。格式为UTC标准时间:yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "task_status": {
            "description": "任务状态。包括INIT(初始化)、RUNNING(运行中)、SUCCESS(执行成功)、ARCHIVED(已归档)、FAILED(执行失败)、STOPPING(停止中)、STOP_SUCCESS(已停止)、STOP_FAILD(停止失败)、START_RUNNING(等待中)。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "workspace_id": {
            "description": "任务所属工作共享空间ID。",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "query"
          },
          "task_name": {
            "description": "任务名称,支持模糊查询。",
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "pattern": "[\\u4e00-\\u9fa5_a-zA-Z0-9_]{1,50}",
            "in": "query"
          }
        },
        "required": [
          "limit",
          "offset",
          "workspace_id"
        ]
      }
    },
    {
      "name": "StartTask",
      "description": "启动任务。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "description": "任务或者工作空间ID。",
            "type": "string"
          }
        },
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "ShowSpurCount",
      "description": "根据像控点信息,查询该像控点在图片上已刺点数量,数量等同于已刺点图片的张数。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "string",
            "description": "任务ID"
          },
          "longitude": {
            "type": "string",
            "description": "像控点经度。要求为WGS84地理坐标系。"
          },
          "latitude": {
            "type": "string",
            "description": "像控点纬度。要求为WGS84地理坐标系。"
          },
          "height": {
            "type": "string",
            "description": "像控点高度。要求为WGS84地理坐标系。"
          },
          "accuracy": {
            "type": "string",
            "description": "像控点精度。范围:(0, 100)。"
          }
        },
        "required": [
          "accuracy",
          "height",
          "latitude",
          "longitude",
          "taskId"
        ]
      }
    },
    {
      "name": "DeleteReal3DProduct",
      "description": "删除实景三维成果影像。仅当成果影像状态为“available”时才可以删除。该接口执行后,成果影像状态更新为“deleting”。在完成删除后成果影像将被删除,且数据不可恢复。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "product_id": {
            "description": "成果影像ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "product_id"
        ]
      }
    },
    {
      "name": "ListCommonWorkspace",
      "description": "该接口用于分页查询工作共享空间列表,支持过滤条件:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "order_by": {
            "description": "排序字段。置顶空间默认排列在列表最前面,并且根据该排序字段组合排序。",
            "type": "string",
            "in": "query"
          },
          "update_time_to": {
            "description": "更新工作共享空间的截止时间。查询在该时间之前更新的工作共享空间。接收UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "update_time_from": {
            "description": "更新工作共享空间的起始时间。查询在该时间之后更新的工作共享空间。接收UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_to": {
            "description": "创建工作共享空间的截止时间。查询在该时间之前创建的工作共享空间。接收UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "create_time_from": {
            "description": "创建工作共享空间的起始时间。查询在该时间之后创建的工作共享空间。接收UTC时间格式字符串,格式为yyyy-MM-dd'T'HH:mm:ss'Z'。",
            "type": "string",
            "in": "query"
          },
          "star": {
            "description": "工作共享空间是否置顶显示(最多可置顶4个)。",
            "type": "boolean",
            "in": "query"
          },
          "workspace_name": {
            "description": "工作共享空间名称。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "workspace_ids": {
            "description": "根据工作共享空间ID查询。",
            "type": "array",
            "items": {
              "type": "string"
            },
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量。查询时忽略的记录数量。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          }
        }
      }
    },
    {
      "name": "StartReal3DSubTask",
      "description": "该接口用于启动精修后处理任务。该接口运行成功后,任务状态更新为等待中(PENDING),此时任务添加到启动队列中等待运行资源就绪,资源就绪后状态更新为启动中(STARTING),启动成功后状态更新为运行中(RUNNING),若启动失败则状态更新为启动失败(START_FAILED)。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "subtask_id": {
            "description": "实景三维精修后处理任务ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "原始实景三维建模任务ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "subtask_id",
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "StopReal3DSubTask",
      "description": "该接口用于停止状态为等待中(PENDING)、启动中(STARTING)或者运行中(RUNNING)的精修后处理任务。任务停止后,状态更新规则如下:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "原始实景三维建模任务ID。",
            "type": "string",
            "in": "path"
          },
          "subtask_id": {
            "description": "实景三维精修后处理任务ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "subtask_id",
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "AddSpurPoint",
      "description": "用户选择生产资料列表中的像控点信息,并在图片中标记出来的过程叫做刺点。该接口用来在图片上新增刺点,刺点的具体信息包括: ",
      "inputSchema": {
        "type": "object",
        "properties": {
          "imageCode": {
            "type": "string",
            "description": "图片ID。"
          },
          "taskId": {
            "type": "string",
            "description": "刺点所属任务ID。"
          },
          "pointWidth": {
            "type": "string",
            "description": "刺点在图片中的横向像素值,以分块左上角为原点,不能超过图片范围。"
          },
          "pointHeight": {
            "type": "string",
            "description": "刺点在图片中的纵向像素值,以分块左上角为原点,不能超过图片范围。"
          },
          "longitude": {
            "type": "string",
            "description": "像控点经度。范围:[-10000000, 10000000]。"
          },
          "latitude": {
            "type": "string",
            "description": "像控点纬度。范围:[-10000000, 10000000]。"
          },
          "height": {
            "type": "string",
            "description": "像控点高度。范围:[-10000000, 10000000]。"
          },
          "accuracy": {
            "type": "string",
            "description": "像控点精度。范围:(0, 100)。"
          }
        },
        "required": [
          "accuracy",
          "height",
          "imageCode",
          "latitude",
          "longitude",
          "pointHeight",
          "pointWidth",
          "taskId"
        ]
      }
    },
    {
      "name": "CreateReal3DSubTask",
      "description": "每个精修后处理任务必须绑定一个已完成的建模类型为“显式辐射场”的任务,且单个任务允许创建的精修后处理任务上限为10个、名称不能重复(大小写不敏感)。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "原始实景三维建模任务ID。",
            "type": "string",
            "in": "path"
          },
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "subtask_name": {
            "type": "string",
            "description": "精修后处理任务名称。支持中文、英文、数字以及“_”字符,长度限制1~50个字符。"
          }
        },
        "required": [
          "subtask_name",
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "DeleteReal3DRefineProduct",
      "description": "调用该接口可删除实景三维精修后处理成果数据。当前仅支持成果数据状态为“available”时才可以删除。执行该接口后,成果数据状态更新为“deleting”。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "refine_product_id": {
            "description": "精修后处理成果数据ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "refine_product_id"
        ]
      }
    },
    {
      "name": "ListReal3DProducts",
      "description": "查询实景三维成果影像列表。返回成果影像查询结果以更新时间倒序排列,支持根据以下条件查询:",
      "inputSchema": {
        "type": "object",
        "properties": {
          "product_id": {
            "description": "成果影像ID。",
            "type": "string",
            "in": "query"
          },
          "product_name": {
            "description": "成果影像名称。支持模糊搜索。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "description": "分页大小。",
            "type": "integer",
            "format": "int32",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "description": "偏移量。查询时忽略的记录数量。",
            "type": "integer",
            "format": "int32",
            "default": 0,
            "maximum": 2147483647,
            "minimum": 0,
            "in": "query"
          }
        }
      }
    },
    {
      "name": "UpdateReal3DTaskArchivedStatus",
      "description": "该接口用于归档运行成功的任务或取消任务的归档状态。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "workspace_id": {
            "description": "工作共享空间ID。",
            "type": "string",
            "in": "path"
          },
          "task_id": {
            "description": "实景三维任务ID。",
            "type": "string",
            "in": "path"
          },
          "archive": {
            "type": "boolean",
            "description": "归档/取消归档标识。"
          }
        },
        "required": [
          "archive",
          "task_id",
          "workspace_id"
        ]
      }
    },
    {
      "name": "CreateMarkerInfo",
      "description": "根据当前任务中的所有图片的刺点信息,生成算法运行时需要的刺点文件。注意:该接口调用需要传递空请求体“{}”。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "任务ID。",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "task_id"
        ]
      }
    }
  ]
}
