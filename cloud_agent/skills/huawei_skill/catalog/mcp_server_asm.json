{
  "server": "mcp_server_asm",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_asm.src.mcp_server_asm.run",
  "serviceCode": "asm",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_asm/src/mcp_server_asm/config/asm.json",
  "toolCount": 4,
  "tools": [
    {
      "name": "DeleteMesh",
      "description": "该API用于删除一个指定的网格",
      "inputSchema": {
        "type": "object",
        "properties": {
          "mesh_id": {
            "description": "网格ID",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "mesh_id"
        ]
      }
    },
    {
      "name": "ShowMesh",
      "description": "该API用于获取指定网格的详细信息",
      "inputSchema": {
        "type": "object",
        "properties": {
          "mesh_id": {
            "description": "网格ID",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "mesh_id"
        ]
      }
    },
    {
      "name": "ListMeshes",
      "description": "该API用于获取用户所有网格的详细信息",
      "inputSchema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "CreateMesh",
      "description": "该API用于创建一个网格",
      "inputSchema": {
        "type": "object",
        "properties": {
          "apiVersion": {
            "type": "string",
            "default": "v1",
            "description": "API版本,固定值“v1”,该值不可修改"
          },
          "kind": {
            "type": "string",
            "default": "Mesh",
            "description": "API类型,固定值“Mesh”或“mesh”,该值不可修改"
          },
          "metadata": {
            "type": "object",
            "required": [
              "name"
            ],
            "properties": {
              "name": {
                "type": "string",
                "description": "网格名称。"
              },
              "uid": {
                "type": "string",
                "description": "网格ID,资源唯一标识,创建成功后自动生成,填写无效"
              },
              "annotations": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "网格注解,由key/value组成:"
              },
              "labels": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "网格标签,由key/value组成:"
              },
              "creationTimestamp": {
                "type": "string",
                "format": "date-time",
                "description": "网格创建时间"
              }
            },
            "description": "网格的基本信息,为集合类的元素类型,包含一组由不同名称定义的属性"
          },
          "spec": {
            "type": "object",
            "required": [
              "region",
              "type",
              "version"
            ],
            "properties": {
              "type": {
                "type": "string",
                "description": "网格类型:",
                "enum": [
                  "InCluster"
                ]
              },
              "version": {
                "type": "string",
                "description": "网格版本"
              },
              "extendParams": {
                "type": "object",
                "properties": {
                  "clusters": {
                    "items": {
                      "type": "object",
                      "required": [
                        "clusterID",
                        "projectID",
                        "installation"
                      ],
                      "properties": {
                        "clusterID": {
                          "type": "string",
                          "description": "集群ID,资源唯一标识,通过该ID查询需要添加的集群"
                        },
                        "projectID": {
                          "type": "string",
                          "description": "集群所属的projectID"
                        },
                        "injection": {
                          "type": "object",
                          "description": "Sidecar注入配置",
                          "properties": {
                            "namespaces": {
                              "type": "object",
                              "properties": {
                                "fieldSelector": {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string",
                                      "description": "Key值"
                                    },
                                    "operator": {
                                      "type": "string",
                                      "description": "操作符,仅支持取值\"In\""
                                    },
                                    "values": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "Value值"
                                    }
                                  },
                                  "description": "字段选择器"
                                }
                              },
                              "description": "需要注入的命名空间"
                            }
                          }
                        },
                        "installation": {
                          "type": "object",
                          "properties": {
                            "nodes": {
                              "type": "object",
                              "properties": {
                                "fieldSelector": {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string",
                                      "description": "Key值"
                                    },
                                    "operator": {
                                      "type": "string",
                                      "description": "操作符,仅支持取值\"In\""
                                    },
                                    "values": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "Value值"
                                    }
                                  },
                                  "description": "字段选择器"
                                }
                              },
                              "description": "安装网格组件的节点"
                            }
                          },
                          "description": "网格组件安装配置"
                        }
                      }
                    },
                    "description": "网格内集群信息",
                    "type": "array"
                  }
                },
                "description": "网格扩展信息"
              },
              "tags": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "key": {
                      "type": "string",
                      "description": "Key值。"
                    },
                    "value": {
                      "type": "string",
                      "description": "Value值。"
                    }
                  },
                  "description": "网格标签集合"
                },
                "description": "网格资源标签"
              }
            },
            "description": "集合类的元素类型,您对需要管理的网格对象进行详细描述的主体部分都在spec中给出。ASM通过spec的描述来创建或更新对象"
          },
          "status": {
            "type": "object",
            "properties": {
              "phase": {
                "type": "string",
                "description": "网格状态,取值如下"
              }
            },
            "description": "集合类的元素类型,用于记录对象在系统中的当前状态信息。"
          }
        },
        "required": [
          "apiVersion",
          "kind",
          "metadata",
          "spec"
        ]
      }
    }
  ]
}
