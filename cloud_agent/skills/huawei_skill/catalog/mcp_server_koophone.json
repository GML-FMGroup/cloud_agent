{
  "server": "mcp_server_koophone",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_koophone.src.mcp_server_koophone.run",
  "serviceCode": "koophone",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_koophone/src/mcp_server_koophone/config/koophone.json",
  "toolCount": 12,
  "tools": [
    {
      "name": "AsyncInvokeInstance",
      "description": "实例执行异步命令接口。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "command": {
            "type": "string",
            "description": "命令,最大长度为1024字节,只支持大小写字母、数字、下划线(_)、点(.)、斜线(/)、冒号(:)、中划线(-)。",
            "maxLength": 1024
          },
          "instance_ids": {
            "type": "array",
            "description": "实例列表",
            "maxItems": 100,
            "items": {
              "maxLength": 32,
              "type": "string"
            }
          }
        },
        "required": [
          "command",
          "instance_ids"
        ]
      }
    },
    {
      "name": "BatchResetInstance",
      "description": "实例批量重置,",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance_ids": {
            "type": "array",
            "description": "实例列表",
            "maxItems": 100,
            "items": {
              "maxLength": 32,
              "type": "string"
            }
          }
        },
        "required": [
          "instance_ids"
        ]
      }
    },
    {
      "name": "SetVideo",
      "description": "实例视频设置。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance_ids": {
            "type": "array",
            "description": "实例列表",
            "maxItems": 100,
            "items": {
              "maxLength": 32,
              "type": "string"
            }
          },
          "instance_settings": {
            "type": "array",
            "description": "视频设置内容",
            "maxItems": 10,
            "items": {
              "description": "实例设置内容",
              "required": [
                "network_type",
                "encoding_type",
                "video_spec_groups"
              ],
              "properties": {
                "network_type": {
                  "type": "string",
                  "description": "网络类型,枚举值:MOBILE_NETWORK/WIFI/WIRED,注意这三个参数都必须有,配合encoding_type必填的2种参数共6种组合,详细先看请求示例",
                  "enum": [
                    "WIFI",
                    "MOBILE_NETWORK",
                    "WIRED"
                  ]
                },
                "encoding_type": {
                  "type": "string",
                  "description": "编码类型,枚举值:H264/H265,注意这两个参数都必须有,配合network_type必填的3种参数共6种组合,详细先看请求示例",
                  "enum": [
                    "H264",
                    "H265"
                  ]
                },
                "video_spec_groups": {
                  "type": "array",
                  "description": "视频规格组",
                  "maxItems": 3,
                  "items": {
                    "description": "视频规格组",
                    "required": [
                      "definition_540P",
                      "definition_720P",
                      "definition_1080P"
                    ],
                    "properties": {
                      "definition_540P": {
                        "description": "标清参数设置,540P",
                        "required": [
                          "code_rate",
                          "fps"
                        ],
                        "properties": {
                          "code_rate": {
                            "type": "integer",
                            "format": "int32",
                            "description": "码率,单位kbps,值范围0-10000,需要是100的倍数"
                          },
                          "fps": {
                            "type": "integer",
                            "format": "int32",
                            "description": "帧率,单位fps,可选 30 ,60"
                          }
                        },
                        "type": "object"
                      },
                      "definition_720P": {
                        "description": "高清参数设置,720P",
                        "required": [
                          "code_rate",
                          "fps"
                        ],
                        "properties": {
                          "code_rate": {
                            "type": "integer",
                            "format": "int32",
                            "description": "码率,单位kbps,值范围0-10000,需要是100的倍数"
                          },
                          "fps": {
                            "type": "integer",
                            "format": "int32",
                            "description": "帧率,单位fps,可选 30 ,60"
                          }
                        },
                        "type": "object"
                      },
                      "definition_1080P": {
                        "description": "超清参数设置,1080P",
                        "required": [
                          "code_rate",
                          "fps"
                        ],
                        "properties": {
                          "code_rate": {
                            "type": "integer",
                            "format": "int32",
                            "description": "码率,单位kbps,值范围0-10000,需要是100的倍数"
                          },
                          "fps": {
                            "type": "integer",
                            "format": "int32",
                            "description": "帧率,单位fps,可选 30 ,60"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  }
                }
              },
              "type": "object"
            }
          }
        },
        "required": [
          "instance_ids",
          "instance_settings"
        ]
      }
    },
    {
      "name": "CancelInstance",
      "description": "调用此api的前提条件是租户需要先购买koophone云手机实例。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_instances": {
            "type": "array",
            "items": {
              "description": "用户实例信息",
              "required": [
                "user_id",
                "instance_id"
              ],
              "properties": {
                "user_id": {
                  "description": "用户id",
                  "type": "string",
                  "maxLength": 32
                },
                "instance_id": {
                  "description": "实例id",
                  "type": "string",
                  "maxLength": 32
                }
              },
              "type": "object"
            },
            "maxItems": 10
          }
        },
        "required": [
          "user_instances"
        ]
      }
    },
    {
      "name": "ExecuteJob",
      "description": "实例执行任务批量查询。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "description": "异步请求返回的任务id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "task_id"
        ]
      }
    },
    {
      "name": "BatchShowInstance",
      "description": "实例状态批量查询。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance_ids": {
            "type": "array",
            "description": "实例列表",
            "maxItems": 100,
            "items": {
              "maxLength": 32,
              "type": "string"
            }
          }
        },
        "required": [
          "instance_ids"
        ]
      }
    },
    {
      "name": "ProvisionInstance",
      "description": "调用此api的前提条件是租户需要先购买koophone云手机实例。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "user_instances": {
            "type": "array",
            "items": {
              "required": [
                "user_id",
                "instance_id"
              ],
              "properties": {
                "user_id": {
                  "type": "string",
                  "example": "string",
                  "description": "用户id",
                  "maxLength": 32
                },
                "instance_id": {
                  "type": "string",
                  "example": "string",
                  "description": "实例id",
                  "maxLength": 32
                }
              }
            },
            "description": "用户实例绑定关系"
          }
        },
        "required": [
          "user_instances"
        ]
      }
    },
    {
      "name": "ExecuteInstanceAuthToken",
      "description": "租户实例串流前获取设备的device_token,",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance_id": {
            "description": "实例id",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "instance_id"
        ]
      }
    },
    {
      "name": "DeleteInstance",
      "description": "调用此api的前提条件是租户需要先购买koophone云手机实例。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instanceIdList": {
            "type": "array",
            "items": {
              "type": "string",
              "maxLength": 32
            },
            "example": [
              "460e1b9a"
            ],
            "description": "实例id"
          }
        },
        "required": [
          "instanceIdList"
        ]
      }
    },
    {
      "name": "BatchShowSku",
      "description": "实例sku批量查询。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "type": {
            "description": "0:查询通用云手机sku",
            "type": "string",
            "in": "query"
          }
        },
        "required": [
          "type"
        ]
      }
    },
    {
      "name": "CreateInstance",
      "description": "租户可以通过调用该接口生成实例。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "os": {
            "type": "string",
            "example": "AOSP9",
            "description": "创建实例的镜像规格,当前支持的云手机场景下必填",
            "enum": [
              "AOSP9",
              "AOSP11"
            ]
          },
          "instanceSkuId": {
            "type": "string",
            "example": "kp.professional.2xlarge.128g.2",
            "description": "创建的实例商品规格id,在CBC定义,Console提供规格与资源池映射",
            "maxLength": 64
          },
          "bandSkuId": {
            "type": "string",
            "example": "kp.bandwidth",
            "description": "带宽商品规格id,在CBC定义",
            "maxLength": 64
          },
          "regionId": {
            "type": "string",
            "example": "cn-north-7",
            "description": "区域id",
            "maxLength": 64
          },
          "instanceNamePrefix": {
            "type": "string",
            "example": "koophone",
            "description": "云机实例名称前缀",
            "maxLength": 14
          },
          "bandSize": {
            "type": "number",
            "format": "double",
            "example": 4.0,
            "description": "带宽大小,单位M"
          },
          "count": {
            "type": "integer",
            "format": "int32",
            "example": 1,
            "description": "购买实例数量,最大200",
            "maximum": 200
          },
          "chargeParam": {
            "description": "计费相关参数",
            "required": [
              "chargingMode",
              "periodType",
              "periodNum"
            ],
            "properties": {
              "chargingMode": {
                "type": "integer",
                "format": "int32",
                "example": 1,
                "description": "计费模式,1 包年包月, 当前只支持包年包月模式",
                "enum": [
                  1
                ]
              },
              "periodType": {
                "type": "integer",
                "format": "int32",
                "example": 2,
                "description": "订购周期类型,2:月;3:年",
                "enum": [
                  2,
                  3
                ]
              },
              "periodNum": {
                "type": "integer",
                "format": "int32",
                "example": 1,
                "description": "订购周期数。 当订购周期为月时,取值范围[1, 9]。 当订购周期为年时,取值范围[1,3]"
              },
              "isAutoPay": {
                "type": "integer",
                "format": "int32",
                "example": 1,
                "description": "是否自动付款。默认不自动付款。 1:自动付款 0:不自动付款",
                "enum": [
                  0,
                  1
                ]
              },
              "isAutoRenew": {
                "type": "integer",
                "format": "int32",
                "example": 1,
                "description": "是否自动续订。 0:非自动续订 1:自动续订",
                "enum": [
                  0,
                  1
                ]
              }
            }
          }
        },
        "required": [
          "bandSize",
          "bandSkuId",
          "chargeParam",
          "count",
          "instanceNamePrefix",
          "instanceSkuId",
          "os",
          "regionId"
        ]
      }
    },
    {
      "name": "SyncInvokeInstance",
      "description": "实例执行同步命令接口。调用此api的前提条件是租户需要先购买koophone云手机实例。可以通过调用该接口实现对自己的koophone云手机实例进行adb指令操作。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "command": {
            "type": "string",
            "description": "命令,最大长度为1024字节,只支持大小写字母、数字、下划线(_)、点(.)、斜线(/)、冒号(:)、中划线(-)。",
            "maxLength": 1024
          },
          "instance_ids": {
            "type": "array",
            "description": "实例列表",
            "maxItems": 100,
            "items": {
              "maxLength": 32,
              "type": "string"
            }
          }
        },
        "required": [
          "command",
          "instance_ids"
        ]
      }
    }
  ]
}
