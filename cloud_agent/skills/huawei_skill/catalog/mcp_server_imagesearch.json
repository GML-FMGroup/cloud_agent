{
  "server": "mcp_server_imagesearch",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_imagesearch.src.mcp_server_imagesearch.run",
  "serviceCode": "imageseach",
  "openapiFile": "../../../scripts/huawei/mcp-server/huaweicloud_services_server/mcp_server_imagesearch/src/mcp_server_imagesearch/config/imagesearch.json",
  "toolCount": 5,
  "tools": [
    {
      "name": "RunDeleteData",
      "description": "删除指定服务实例中的对应数据,支持指定ID删除和条件删除。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "service_name": {
            "description": "服务实例的名称,用户创建服务实例时指定。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "force": {
            "type": "boolean",
            "default": false,
            "description": "是否幂等删除数据,默认为false。仅对指定ID删除生效。"
          },
          "item_id": {
            "type": "string",
            "description": "数据的服务实例级唯一标识,字符长度范围为[1, 256]。",
            "minLength": 1,
            "maxLength": 256
          },
          "custom_tags": {
            "type": "object",
            "description": "自定义字符标签,用于对服务实例中的数据进行条件删除。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "自定义字符标签值",
                "minLength": 1,
                "maxLength": 64
              },
              "minItems": 1,
              "maxItems": 32
            }
          },
          "custom_num_tags": {
            "type": "object",
            "description": "自定义数值标签,用于对服务实例中的数据进行custom_num_tags条件删除。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "object",
              "description": "数值范围参数结构体。",
              "properties": {
                "from": {
                  "type": "number",
                  "description": "数值下界,默认包含该下界。",
                  "format": "double"
                },
                "to": {
                  "type": "number",
                  "description": "数值上界,默认包含该上界。",
                  "format": "double"
                }
              }
            }
          }
        },
        "required": [
          "project_id",
          "service_name"
        ]
      }
    },
    {
      "name": "RunUpdateData",
      "description": "更新指定服务实例中的对应数据。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "service_name": {
            "description": "服务实例的名称,用户创建服务实例时指定。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "item_id": {
            "type": "string",
            "description": "数据的服务实例级唯一标识,字符长度范围为[1, 256]。",
            "minLength": 1,
            "maxLength": 256
          },
          "desc": {
            "type": "string",
            "description": "数据的描述信息,字符长度范围为[1, 2048]。",
            "minLength": 1,
            "maxLength": 2048
          },
          "custom_tags": {
            "type": "object",
            "description": "数据的自定义字符标签,用于进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "string",
              "minLength": 1,
              "maxLength": 64
            }
          },
          "custom_num_tags": {
            "type": "object",
            "description": "数据的自定义数值标签,用于进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            }
          }
        },
        "required": [
          "item_id",
          "project_id",
          "service_name"
        ]
      }
    },
    {
      "name": "RunAddData",
      "description": "添加数据到指定服务实例中。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "service_name": {
            "description": "服务实例的名称,用户创建服务实例时指定。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "force": {
            "type": "boolean",
            "description": "是否强制添加数据,默认为false。",
            "default": false
          },
          "item_id": {
            "type": "string",
            "description": "数据的服务实例级唯一标识,字符长度范围为[1, 256]。",
            "minLength": 1,
            "maxLength": 256
          },
          "desc": {
            "type": "string",
            "description": "数据的描述信息,字符长度范围为[1, 2048]。",
            "minLength": 1,
            "maxLength": 2048
          },
          "custom_tags": {
            "type": "object",
            "description": "数据的自定义字符标签,用于进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "string",
              "minLength": 1,
              "maxLength": 64
            }
          },
          "custom_num_tags": {
            "type": "object",
            "description": "数据的自定义数值标签,用于进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            }
          },
          "image_base64": {
            "type": "string",
            "description": "图像文件的base64字符串,图像入库时,与image_url二选一。要求如下:"
          },
          "image_url": {
            "type": "string",
            "description": "图像文件的服务可访问URL,字符长度范围为[1, 4096]。图像入库时,与image_base64二选一。",
            "minLength": 1,
            "maxLength": 4096
          },
          "keywords": {
            "type": "array",
            "description": "关键词列表,关键词数量范围为[1, 100],关键词字符长度范围为[1, 64]。支持关键词搜索的服务实例添加数据时,如给定此参数,则直接使用给定的keywords作为关键词,否则会自动生成对应的keywords。",
            "items": {
              "type": "string",
              "minLength": 1,
              "maxLength": 64
            },
            "minItems": 1,
            "maxItems": 100
          },
          "optional_params": {
            "type": "object",
            "description": "添加数据的可选参数,其中每个参数仅对部分服务类型生效,具体可参见服务类型说明。",
            "properties": {
              "do_det": {
                "type": "boolean",
                "description": "是否进行目标检测,默认为true。",
                "default": true
              },
              "box": {
                "type": "string",
                "description": "目标矩形框坐标,如给定则不进行目标检测,直接使用该box作为目标。格式为“x1,y1,x2,y2”(无空格),x1/y1为目标左上角坐标,x2/y2为目标右下角坐标,具体要求如下:"
              },
              "do_cls": {
                "type": "boolean",
                "description": "是否进行对象分类,默认为true。",
                "default": true
              },
              "category": {
                "type": "integer",
                "description": "对象类目,如给定则不进行对象分类,直接使用该category作为类目。具体类目信息可参见对应的服务类型说明。",
                "format": "int32"
              }
            }
          }
        },
        "required": [
          "item_id",
          "project_id",
          "service_name"
        ]
      }
    },
    {
      "name": "RunSearch",
      "description": "从指定服务实例中进行搜索。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "service_name": {
            "description": "服务实例的名称,用户创建服务实例时指定。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "search_type": {
            "type": "string",
            "description": "搜索类型,必须为服务实例支持的搜索类型。服务实例的搜索类型列表可在创建服务实例时进行配置。",
            "enum": [
              "IMAGE",
              "KEYWORD",
              "TEXT",
              "CATEGORY"
            ]
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "返回搜索结果的数量,默认为10,取值范围为[1, 1000]。",
            "minimum": 1,
            "maximum": 1000,
            "default": 10
          },
          "offset": {
            "type": "integer",
            "format": "int32",
            "description": "返回搜索结果的偏移量,即返回序号在[offset, offset+limit]内的搜索结果。默认为0,取值范围为[0, N]。",
            "minimum": 0,
            "default": 0
          },
          "last_item": {
            "type": "object",
            "description": "前一次搜索的最后一个搜索结果的排序信息。仅对全量召回场景生效,可将上一次搜索返回结果中的last_item字段直接用于此处。",
            "properties": {
              "score": {
                "type": "number",
                "format": "double",
                "description": "结果的得分。"
              },
              "id": {
                "type": "string",
                "description": "结果的唯一ID。"
              }
            }
          },
          "min_score": {
            "type": "number",
            "format": "double",
            "description": "返回搜索结果的最小得分,用于对搜索结果进行score过滤,取值范围为[0, 1]。",
            "minimum": 0,
            "maximum": 1
          },
          "custom_tags": {
            "type": "object",
            "description": "自定义字符标签,用于对搜索结果进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "自定义字符标签值",
                "minLength": 1,
                "maxLength": 64
              },
              "minItems": 1,
              "maxItems": 32
            }
          },
          "custom_num_tags": {
            "type": "object",
            "description": "自定义数值标签,用于对搜索结果进行条件过滤。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "object",
              "description": "数值范围参数结构体。",
              "properties": {
                "from": {
                  "type": "number",
                  "description": "数值下界,默认包含该下界。",
                  "format": "double"
                },
                "to": {
                  "type": "number",
                  "description": "数值上界,默认包含该上界。",
                  "format": "double"
                }
              }
            }
          },
          "image_base64": {
            "type": "string",
            "description": "图像文件的base64字符串,基于图像搜索时,与image_url二选一。要求如下:"
          },
          "image_url": {
            "type": "string",
            "description": "图像文件的服务可访问URL,字符长度范围为[1, 4096]。基于图像搜索时,与image_base64二选一。",
            "minLength": 1,
            "maxLength": 4096
          },
          "keywords": {
            "type": "array",
            "description": "关键词列表,搜索时关键词数量范围为[1, 10],关键词字符长度范围为[1, 64]。使用KEYWORD搜索类型进行搜索时,必须提供该参数。",
            "items": {
              "type": "string",
              "minLength": 1,
              "maxLength": 64
            },
            "minItems": 1,
            "maxItems": 10
          },
          "text": {
            "type": "string",
            "description": "文本字符串,字符长度范围为[1, 512]。",
            "minLength": 1,
            "maxLength": 512
          },
          "optional_params": {
            "type": "object",
            "description": "搜索的可选参数,其中每个参数仅对部分服务类型生效,具体可参见服务类型说明。",
            "properties": {
              "do_det": {
                "type": "boolean",
                "description": "是否进行目标检测,默认为true。",
                "default": true
              },
              "box": {
                "type": "string",
                "description": "目标矩形框坐标,如给定则不进行目标检测,直接使用该box作为目标。格式为“x1,y1,x2,y2”(无空格),x1/y1为目标左上角坐标,x2/y2为目标右下角坐标,具体要求如下:"
              },
              "do_cls": {
                "type": "boolean",
                "description": "是否进行对象分类,默认为true。",
                "default": true
              },
              "category": {
                "type": "integer",
                "description": "对象类目,如给定则不进行对象分类,直接使用该category作为类目。具体类目信息可参见对应的服务类型说明。",
                "format": "int32"
              },
              "collapse_key": {
                "type": "string",
                "description": "去重标签名,必须为服务实例custom_tags中已存在的key。"
              },
              "max_scan_num": {
                "type": "integer",
                "format": "int32",
                "description": "扫描节点上限。值越大精度越高,查询速度变慢。默认值为10000。",
                "minimum": 1000,
                "maximum": 100000,
                "default": 10000
              },
              "nprobe": {
                "type": "integer",
                "format": "int32",
                "description": "查询考察中心点的数目。值越大精度越高,查询速度变慢。默认值为100。",
                "minimum": 1,
                "maximum": 100000,
                "default": 100
              },
              "text_lang": {
                "type": "string",
                "description": "文本字符串的语言类型枚举值。",
                "example": "zh",
                "enum": [
                  "ar",
                  "de",
                  "ru",
                  "fr",
                  "ko",
                  "pt",
                  "ja",
                  "th",
                  "tr",
                  "es",
                  "en",
                  "vi",
                  "zh",
                  "zhTW"
                ],
                "default": "zh"
              }
            }
          }
        },
        "required": [
          "project_id",
          "search_type",
          "service_name"
        ]
      }
    },
    {
      "name": "RunCheckData",
      "description": "检查指定服务实例中的对应数据,支持指定ID检查和条件检查。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "service_name": {
            "description": "服务实例的名称,用户创建服务实例时指定。",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "服务实例所属的项目ID,登陆华为云->用户中心->我的凭证->API凭证,即可查看对应区域的项目ID。",
            "type": "string",
            "in": "path"
          },
          "item_id": {
            "type": "string",
            "description": "数据的服务实例级唯一标识,字符长度范围为[1, 256]。",
            "minLength": 1,
            "maxLength": 256
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "返回检查结果的数量,默认为10,取值范围为[1, 100]。仅对条件检查生效。",
            "minimum": 1,
            "maximum": 100,
            "default": 10
          },
          "last_item": {
            "type": "object",
            "description": "前一次检查的最后一个检查结果的排序信息。仅对条件检查生效,可将上一次检查返回结果中的last_item字段直接用于此处。",
            "properties": {
              "score": {
                "type": "number",
                "format": "double",
                "description": "结果的得分。"
              },
              "id": {
                "type": "string",
                "description": "结果的唯一ID。"
              }
            }
          },
          "custom_tags": {
            "type": "object",
            "description": "自定义字符标签,用于对服务实例中的数据进行条件查找。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "自定义字符标签值",
                "minLength": 1,
                "maxLength": 64
              },
              "minItems": 1,
              "maxItems": 32
            }
          },
          "custom_num_tags": {
            "type": "object",
            "description": "自定义数值标签,用于对服务实例中的数据进行条件查找。格式为键值对{key:value}。",
            "additionalProperties": {
              "type": "object",
              "description": "数值范围参数结构体。",
              "properties": {
                "from": {
                  "type": "number",
                  "description": "数值下界,默认包含该下界。",
                  "format": "double"
                },
                "to": {
                  "type": "number",
                  "description": "数值上界,默认包含该上界。",
                  "format": "double"
                }
              }
            }
          }
        },
        "required": [
          "project_id",
          "service_name"
        ]
      }
    }
  ]
}
