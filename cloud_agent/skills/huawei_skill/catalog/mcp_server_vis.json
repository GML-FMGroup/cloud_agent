{
  "server": "mcp_server_vis",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_vis.src.mcp_server_vis.run",
  "serviceCode": "vis",
  "openapiFile": "../../../scripts/huawei/mcp-server/huaweicloud_services_server/mcp_server_vis/src/mcp_server_vis/config/vis.json",
  "toolCount": 33,
  "tools": [
    {
      "name": "CreateDeviceCertificate",
      "description": "该接口用于创建GB/T28181凭证,该凭证用于GB/T28181设备注册时使用。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "username": {
            "type": "string",
            "example": "0000",
            "description": "凭证用户名,全局唯一。"
          },
          "type": {
            "type": "string",
            "example": "NORMAL",
            "description": "凭证类型,可选值如下。"
          },
          "password": {
            "type": "string",
            "example": "123us****",
            "description": "凭证密码。长度为8位~32位的字符串,至少包含以下三种字符:大写字母、小写字母、数字和特殊字符(@#_-*)。密码不能与凭证用户名相同,也不能与用户名的倒序相同。"
          },
          "description": {
            "type": "string",
            "example": "",
            "description": "凭证描述,长度不超过500个字符。"
          }
        },
        "required": [
          "password",
          "project_id",
          "username"
        ]
      }
    },
    {
      "name": "ListAkskCertificates",
      "description": "该接口用于获取所有AK/SK凭证。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "access_key": {
            "example": "ALKJOWLKJSDNFGO******KSJDF",
            "description": "根据access_key过滤,支持模糊查询索。",
            "type": "string",
            "in": "query"
          },
          "name": {
            "example": "aksk_1",
            "description": "根据凭证用户名过滤,支持模糊搜索。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "name",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "34",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "3",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListLongTermOfflineDevices",
      "description": "获取当前project下,长期不在线的GB/T28181设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "11",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "21",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListDevicesCertificates",
      "description": "该接口用于获取所有GB/T28181凭证。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "type": {
            "example": "NORMAL",
            "description": "根据凭证类型过滤,可选值如下。",
            "type": "string",
            "in": "query"
          },
          "username": {
            "example": "",
            "description": "根据凭证用户名过滤,支持模糊搜索。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "username",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "44",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "2",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListStreamInfos",
      "description": "此接口用于获取指定视频流的详细信息。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "stream_name": {
            "example": "stream****",
            "description": "视频流名称",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "stream_name"
        ]
      }
    },
    {
      "name": "UpdateNvrDeviceChannel",
      "description": "该接口用于更新NVR设备的通道列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "device_id": {
            "example": "device***23sadf",
            "description": "设备ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "device_id",
          "project_id"
        ]
      }
    },
    {
      "name": "UpdateDeviceChannelStrategy",
      "description": "该接口用于设置GB/T28181设备的视频接入策略。用户可以通过设置接入策略定时自动进行设备的接入。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "channel_id": {
            "example": "933908423*****000001",
            "description": "通道ID",
            "type": "string",
            "in": "path"
          },
          "device_id": {
            "example": "devi****3123sadf",
            "description": "设备ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "random_strategy": {
            "type": "string",
            "enum": [
              "RANDOM",
              "CONSECUTIVE"
            ],
            "example": "RANDOM",
            "description": "视频采集类型,可选值如下。"
          },
          "start_time": {
            "type": "string",
            "pattern": "(?:0[0-9]|1[0-9]|2[0-3]):([0-5]0)",
            "example": "10:20",
            "description": "一天中视频接入的开始时间,时间格式为HH:MM,取值范围是00:10~23:40。分钟数值须为10的倍数,例如10:10、10:20、10:30等。第一次设置接入测略时,该参数必填。后续更新接入策略时,该参数可选。"
          },
          "end_time": {
            "type": "string",
            "example": "12:10",
            "description": "一天中视频接入的结束时间,时间格式为HH:MM,取值范围是00:10~23:50。分钟数值须为10的倍数,如23:10、23:20等。end_time必须晚于start_time。第一次设置视频采集类型为RANDOM时,该参数必填。后续更新接入策略时,该参数可选采集类型为CONSECUTIVE时,该参数被忽略。"
          },
          "total_length": {
            "type": "integer",
            "minimum": 10,
            "maximum": 1440,
            "example": 10,
            "description": "视频接入总采集时长,单位:分钟。参数值须为10的倍数,最小值为10分钟,最大值根据用户的配额决定。不同的视频采集类型,total_length有不同的配额设置:采集类型为RANDOM时,start_time加上total_length后的时间不能超过end_time。采集类型为CONSECUTIVE时,start_time加上total_length后的时间不能超过24:00,即采集时长不允许跨天。第一次设置接入测试略时,该参数必填。后续更新接入策略时,该参数可选。"
          },
          "periodicity": {
            "type": "string",
            "enum": [
              "DAY",
              "ONCE"
            ],
            "example": "DAY",
            "description": "采集周期,可选值如下。"
          },
          "state": {
            "type": "string",
            "example": "ACTIVE",
            "enum": [
              "ACTIVE",
              "STOPPED"
            ],
            "description": "视频接入状态,可选值如下。"
          }
        },
        "required": [
          "channel_id",
          "device_id",
          "project_id"
        ]
      }
    },
    {
      "name": "UpdateAksk",
      "description": "该接口用于更新AK/SK凭证,AK/SK用于RTMP推流的鉴权",
      "inputSchema": {
        "type": "object",
        "properties": {
          "access_key": {
            "example": "ALKJOWLKJSDNFGO******KSJDF",
            "description": "凭证AK",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "name": {
            "description": "凭证名称。长度为1位到32位之间,可以包含字母、数字、中划线或者下划线,不能包含其他的特殊字符。",
            "type": "string"
          },
          "description": {
            "description": "凭证描述,不填为空。可填字符串最大长度为500。",
            "type": "string"
          }
        },
        "required": [
          "access_key",
          "project_id"
        ]
      }
    },
    {
      "name": "DeleteDeviceCertificate",
      "description": "该接口用于删除GB/T28181用户的凭证。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "username": {
            "example": "0000",
            "description": "凭证用户名",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "username"
        ]
      }
    },
    {
      "name": "CreateSubscription",
      "description": "此接口用于用户申请开通视频接入服务",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "CreateStream",
      "description": "该接口用于创建视频流。包括RTMP以及HTTP-FLV类型视频流。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 32,
            "example": "RTMP******",
            "description": "自定义流名称只能使用英文字母a~z,A-Z)、数字(0~9)以及连接符(-、_),连接符(-、__)不能连续出现、不能单独注册,也不能放在开头和结尾。长度不低于 8,不超过128个字符。",
            "pattern": "^[A-Za-z0-9\\-_]*"
          },
          "access_type": {
            "type": "string",
            "example": "RTMP",
            "description": "视频接入类型,当前支持HTTP-FLV和RTMP协议,不区分大小写。",
            "pattern": "^[A-Za-z0-9\\-]*",
            "enum": [
              "HTTP-FLV",
              "RTMP",
              "RTP"
            ]
          },
          "encode_type": {
            "type": "string",
            "example": "H264",
            "enum": [
              "H264",
              "H265",
              "NONE"
            ],
            "description": "视频流编码格式,当前支持H264,不区分大小写。"
          },
          "share_type": {
            "type": "string",
            "example": "PUBLIC",
            "enum": [
              "PRIVATE",
              "PUBLIC"
            ],
            "default": "PRIVATE",
            "description": "视频流共享类型。"
          },
          "url": {
            "type": "string",
            "example": "https://xxxxxxxx.com/live",
            "description": "当视频类型为RTMP协议时,不需要该参数。当视频类型为HTTP-FLV协议时,该参数必填,表示HTTP-FLV协议视频流的拉流地址。该地址必须是http或https协议的合法URL,格式要求以“http://”或“https://”开头的字符串,例如“http://xxxx.xxx”。"
          },
          "access_key": {
            "type": "string",
            "example": "ALKJOWLKJSDNFGO******KSJDF",
            "description": "当视频类型为HTTP-FLV时,不需要该参数。视频接入类型是RTMP时,该参数表示秘钥access_key,用户可根据自己实际需求选择是否配置。如果配置了秘钥access_key,则进行RTMP推流时需要提供认证Token。这里的秘钥access_key由[创建AK/SK凭证](https://support.huaweicloud.com/api-vis/CreateAkskCertificate.html)接口生成。配置了秘钥access_key后,在推流时,需要在原始推流地址后面加上若干查询参数,作为推流认证信息,具体请参见[推流鉴权规则](https://support.huaweicloud.com/usermanual-vis/vis_02_0012.html)。如果不配置该参数,表示不提供access_key,则推流时不需要进行认证。"
          },
          "description": {
            "type": "string",
            "example": "",
            "description": "视频流的描述信息,可填字符串最大长度为500。"
          },
          "tag": {
            "type": "array",
            "minItems": 0,
            "maxItems": 10,
            "items": {
              "properties": {
                "key": {
                  "type": "string",
                  "example": "group",
                  "description": "标签的键。最大长度为36个UNICODE字符(一-鿿),可以包含大小写字母、数字、中划线(-)或者下划线(_),不能包含其他的特殊字符。"
                },
                "value": {
                  "type": "string",
                  "example": "number1",
                  "description": "标签的值。最大长度为43个UNICODE字符(一-鿿),可以包含大小写字母、数字、点(.)、中划线(-)或者下划线(_),不能包含其他的特殊字符,也可以为空字符串。"
                }
              },
              "type": "object"
            },
            "description": "和视频流关联的标签,一个视频流最多添加10个标签。"
          }
        },
        "required": [
          "access_type",
          "encode_type",
          "name",
          "project_id"
        ]
      }
    },
    {
      "name": "DeleteDevice",
      "description": "此接口用于删除指定设备。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "device_id": {
            "example": "91267***0026",
            "description": "设备ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "device_id",
          "project_id"
        ]
      }
    },
    {
      "name": "ListTodayNewOnlineDevices",
      "description": "获取当前project下,最新上线(即之前没有上线记录)的GB/T28181设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "66",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "5",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListDevices",
      "description": "此接口用于获取已经注册成功的GB/T28181设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "UNREGISTERED",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤,可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤,支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "33",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "22",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListNotSendDataDevices",
      "description": "获取当前project下,从来没有视频数据发送的设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "33",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "8",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListStreams",
      "description": "此接口用于获取所有视频流的详细信息。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "retention_state": {
            "example": "STOPPED",
            "description": "按视频流转储状态过滤,可选值如下。",
            "type": "string",
            "in": "query"
          },
          "stream_state": {
            "example": "ACTIVE",
            "description": "按视频流状态过滤,可选值如下。",
            "type": "string",
            "in": "query"
          },
          "name": {
            "example": "String**",
            "description": "按照视频流名称过滤,支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "encode_type",
            "description": "选择按一个字段排序,可选值如下。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "23",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "1",
            "description": "查询的开始位置,取值范围为0~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "UpdateDeviceCertificate",
      "description": "该接口用于更新GB/T28181用户名密码凭证。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "username": {
            "example": "0000",
            "description": "凭证用户名",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "password": {
            "type": "string",
            "example": "********",
            "description": "凭证密码,如果要修改密码,则必须带有原密码。"
          },
          "new_password": {
            "type": "string",
            "example": "********",
            "description": "设置的新密码。长度为8位~32位的字符串,至少包含以下两种字符:大写字母、小写字母、数字和特殊字符(@#_-*)。不能与凭证用户名或与其倒序相同,且不能与原密码相同。"
          },
          "description": {
            "type": "string",
            "example": "this is for device",
            "description": "凭证描述,最大字符串长度为500。"
          }
        },
        "required": [
          "project_id",
          "username"
        ]
      }
    },
    {
      "name": "CreateDeviceChannel",
      "description": "此接口用于创建GB/T28181设备(摄像头、网络硬盘录像机等)通道。创建成功之后,自动为GB/T28181设备生成设备ID,以及选择关联的GB/T28181凭证。用户在设备注册时使用该设备ID与凭证,作为设备的用户名以及认证ID址。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "type": {
            "type": "string",
            "example": "IPC",
            "description": "设备类型,目前仅支持IPC和NVR类型的设备,不区分大小写。"
          },
          "username": {
            "type": "string",
            "example": "0000",
            "description": "关联的GB/T28181设备密码对应的用户名。"
          },
          "quantity": {
            "type": "integer",
            "example": "2",
            "description": "创建设备的个数。最小值为1,最大值为用户当前可以创建设备的剩余配额,不填该参数时默认值为1。"
          },
          "description": {
            "type": "string",
            "example": "description for device",
            "description": "设备的描述,可填字符串最大长度为500。"
          },
          "suffix": {
            "type": "string",
            "example": "abc",
            "description": "设备通道关联的视频流名称后缀。国标设备注册后,会自动创建该设备关联的视频流,视频流的名称可以添加suffix字段作为名称后缀以帮助用户更好区分不同的视频流。后缀长度为0位到30位之间(长度为0时表示不设置后缀),可以包含字母、数字、中划线(-)或者下划线(_),不能包含其他的特殊字符。"
          },
          "auto_invite": {
            "type": "boolean",
            "example": "true",
            "description": "是否开启自动邀约,取值范围如下。"
          }
        },
        "required": [
          "project_id",
          "type",
          "username"
        ]
      }
    },
    {
      "name": "UpdateRetention",
      "description": "此接口用于更新视频转储信息。创建的视频流默认没有转储信息,即视频数据不会保存。更新转储信息后可以将视频流保存到指定的存储媒介,如OBS。后续用户可以从OBS上获取到转储的视频。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "stream_name": {
            "example": "strea***",
            "description": "视频流名称",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "store_type": {
            "type": "string",
            "enum": [
              "OBS"
            ],
            "example": "obs",
            "description": "视频转储位置,可为“obs”,即存储到云服务OBS上。第一次创建转储信息时必选,不区分大小写。"
          },
          "bucket": {
            "type": "string",
            "example": "obs-momo",
            "description": "OBS桶名,当“store_type”为“obs”时必选。"
          },
          "path": {
            "type": "string",
            "example": "path/to/video/",
            "description": "OBS目录,当“store_type”为“obs”时,该参数必选。该目录下的文件夹最多为N+2个,N为转储时长。"
          },
          "slice_in_minute": {
            "type": "integer",
            "minimum": 1,
            "maximum": 60,
            "example": "1",
            "description": "分片长度,以分钟为单位。取值范围为1~60,默认为5。"
          },
          "timezone": {
            "type": "string",
            "pattern": "GMT(\\+|-)([0]?)([0-9]|1[0-2]):00",
            "example": "GMT+8:00",
            "description": "当地时区。格式为GMT+HH:00,如GMT+8:00表示东八区。转储时路径命名以该时区时间为准。"
          },
          "state": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "STOPPED"
            ],
            "example": "ACTIVE",
            "description": "转储状态。"
          },
          "format": {
            "type": "string",
            "enum": [
              "MP4",
              "FLV"
            ],
            "example": "FLV",
            "default": "FLV",
            "description": "视频流转储格式。"
          }
        },
        "required": [
          "project_id",
          "stream_name",
          "timezone"
        ]
      }
    },
    {
      "name": "ListPastOnlineDevices",
      "description": "获取当前project下,获取曾经上线的GB/T28181设备列表,即只要上线过的设备信息都会显示。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "56",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "4",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListTodayDroppedDevices",
      "description": "获取当前project下,最新掉线的GB/T28181设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "23",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "6",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "UpdateStream",
      "description": "该接口用于更新视频流的详情,包括RTMP以及HTTP-FLV类型视频流。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "stream_name": {
            "example": "stream****",
            "description": "视频流名称",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "access_type": {
            "type": "string",
            "minLength": 1,
            "maxLength": 32,
            "pattern": "^[A-Za-z0-9\\-_]*",
            "enum": [
              "HTTP-FLV",
              "RTMP",
              "RTP"
            ],
            "example": "RTMP",
            "description": "视频接入类型,例如HTTP-FLV、RTMP等,不区分大小写。当视频流处于ACTIVE状态时,不允许修改该项。"
          },
          "encode_type": {
            "type": "string",
            "example": "H264",
            "enum": [
              "H264",
              "H265",
              "NONE"
            ],
            "description": "视频流编码格式,当前支持H264,不区分大小写。"
          },
          "access_key": {
            "type": "string",
            "example": "ALKJOWLKJSDNFGO******KSJDF",
            "description": "RTMP视频流绑定的秘钥Access Key。"
          },
          "url": {
            "type": "string",
            "example": "https://xxxxxxxx.com/live",
            "description": "HTTP-FLV视频流的拉流地址。URL必须是http或https协议的合法URL。格式要求:以“http://”或“https://”开头的字符串,例如“http://xxxx.xxx”。"
          },
          "description": {
            "type": "string",
            "example": "",
            "maxLength": 500,
            "description": "视频流的描述信息。"
          },
          "share_type": {
            "type": "string",
            "example": "PRIVATE",
            "enum": [
              "PUBLIC",
              "PRIVATE"
            ],
            "description": "视频流共享类型。"
          },
          "tag": {
            "type": "array",
            "minimum": 0,
            "maximum": 10,
            "items": {
              "properties": {
                "key": {
                  "type": "string",
                  "example": "group",
                  "description": "标签的键。最大长度为36个UNICODE字符(一-鿿),可以包含大小写字母、数字、中划线(-)或者下划线(_),不能包含其他的特殊字符。"
                },
                "value": {
                  "type": "string",
                  "example": "number1",
                  "description": "标签的值。最大长度为43个UNICODE字符(一-鿿),可以包含大小写字母、数字、点(.)、中划线(-)或者下划线(_),不能包含其他的特殊字符,也可以为空字符串。"
                }
              },
              "type": "object"
            },
            "description": "和视频流关联的标签,一个视频流最多添加10个标签。"
          },
          "state": {
            "type": "string",
            "example": "STOPPED",
            "enum": [
              "ACTIVE",
              "STOPPED"
            ],
            "description": "视频流状态,可选值如下。"
          }
        },
        "required": [
          "project_id",
          "stream_name"
        ]
      }
    },
    {
      "name": "UpdateDeviceChannel",
      "description": "该接口用于GB/T28181设备进行“视频邀约”和“取消邀约”,配置优先使用TCP传输的配置。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "channel_id": {
            "example": "chanadfasdf",
            "description": "通道ID",
            "type": "string",
            "in": "path"
          },
          "device_id": {
            "example": "device123123***f",
            "description": "设备ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "state": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "STOPPED"
            ],
            "example": "ACTIVE",
            "description": "视频流状态。"
          },
          "tcp_priority": {
            "type": "string",
            "enum": [
              true,
              false
            ],
            "example": "",
            "description": "是否优先使用TCP传输的配置。"
          }
        },
        "required": [
          "channel_id",
          "device_id",
          "project_id",
          "state"
        ]
      }
    },
    {
      "name": "DeleteAkskCertificate",
      "description": "该接口用于删除AKSK凭证。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "access_key": {
            "example": "ALKJOWLKJSDNFGO******KSJDF",
            "description": "凭证AK",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "access_key",
          "project_id"
        ]
      }
    },
    {
      "name": "ListStreamsAddresses",
      "description": "此接口用于获取指定视频流的地址。该地址用于进行视频流推流或者拉流。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "expire_time": {
            "example": 86400,
            "description": "获取的视频流拉流地址的有效时间,设置范围为[600,604800],单位:秒。建议设置为8小时以内。",
            "type": "integer",
            "in": "query"
          },
          "stream_name": {
            "example": "RTMP******",
            "description": "视频流名称",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "stream_name"
        ]
      }
    },
    {
      "name": "DeleteStream",
      "description": "此接口用于删除指定视频流。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "stream_name": {
            "example": "streamT***",
            "description": "视频流名称",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id",
          "stream_name"
        ]
      }
    },
    {
      "name": "ListTodayPacketReceivedRateDevices",
      "description": "获取当天有视频接入的GB/T28181设备的平均视频包接受率的列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "12",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "23",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListSubscriptions",
      "description": "该接口用于获取服务开通信息",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListShortTermOfflineDevices",
      "description": "获取当前project下,最近三天新掉线的设备列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "state": {
            "example": "ONLINE",
            "description": "按照设备状态过滤,取值范围。",
            "type": "string",
            "in": "query"
          },
          "type": {
            "example": "IPC",
            "description": "按照设备类型过滤。可选参数为IPC。",
            "type": "string",
            "in": "query"
          },
          "device_id": {
            "example": "3402000000**********",
            "description": "按照设备ID过滤。支持模糊查询。",
            "type": "string",
            "in": "query"
          },
          "order_by": {
            "example": "device_id",
            "description": "排序的字段,取值范围。",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "ASC",
            "description": "返回结果的排序规则。",
            "type": "string",
            "in": "query"
          },
          "limit": {
            "example": "22",
            "description": "返回结果的最大条目数,取值范围为1~1000,必须与offset一起使用。与offset同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。",
            "type": "integer",
            "in": "query"
          },
          "offset": {
            "example": "7",
            "description": "查询的开始位置,取值范围为1~100000,必须与limit一起使用。与limit同时缺省时,返回所有结果。该参数适用于所有查询列表的接口。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "CreateAkskCertificate",
      "description": "该接口用于创建AK/SK凭证,AK/SK用于RTMP视频流推流时的鉴权。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "name": {
            "type": "string",
            "example": "aksk_1",
            "description": "凭证名称。长度为1~32,可以包含字母、数字、中划线(-)或者下划线(_),不能包含其他的特殊字符。"
          },
          "description": {
            "type": "string",
            "example": "this is for RTMP",
            "description": "凭证描述,字符串最大长度为500。"
          }
        },
        "required": [
          "name",
          "project_id"
        ]
      }
    },
    {
      "name": "UpdateAuthority",
      "description": "此接口用于用户更新桶授权:授权和取消授权。授权时,operation设置为\"ON\",取消授权时,operation设置为\"OFF\"。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "bucket": {
            "type": "string",
            "minLength": 3,
            "maxLength": 63,
            "example": "bucketName",
            "description": "桶名称"
          },
          "operation": {
            "type": "string",
            "enum": [
              "ON",
              "OFF"
            ],
            "example": "ON",
            "description": "表示授权还是取消授权的动作,ON表示授权,OFF表示取消授权"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListNvrChannels",
      "description": "此接口用于获取已经注册成功的NVR设备通道列表。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "device_id": {
            "example": "91267042471180***026",
            "description": "设备ID",
            "type": "string",
            "in": "path"
          },
          "project_id": {
            "example": "3266392d188c47d09948b1**********",
            "description": "项目ID",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "device_id",
          "project_id"
        ]
      }
    },
    {
      "name": "ListBucket",
      "description": "此接口用于用户获取桶信息列表,桶信息中包含两个字段,分别是桶名称和桶授权信息。",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "example": 5,
            "description": "返回结果的最大条目数,取值范围为1~100,默认值为10。",
            "type": "integer",
            "default": 10,
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "example": 1,
            "description": "查询的开始位置,取值范围为0~100000,默认值为0。如果offset超过数据总条数,则结果返回空列表。",
            "type": "integer",
            "default": 0,
            "maximum": 100000,
            "minimum": 0,
            "in": "query"
          },
          "project_id": {
            "description": "项目ID,获取方法请参考[获取项目ID](https://support.huaweicloud.com/api-vis/vis_03_0005.html)",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    }
  ]
}
