{
  "server": "mcp_server_cloudpipeline",
  "mode": "openapi",
  "module": "huaweicloud_services_server.mcp_server_cloudpipeline.src.mcp_server_cloudpipeline.run",
  "serviceCode": "cloudpipeline",
  "openapiFile": "mcp-server/huaweicloud_services_server/mcp_server_cloudpipeline/src/mcp_server_cloudpipeline/config/cloudpipeline.json",
  "toolCount": 21,
  "tools": [
    {
      "name": "CreatePipelineByTemplateId",
      "description": "基于模板创建流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "component_id": {
            "description": "微服务ID",
            "type": "string",
            "in": "query"
          },
          "template_id": {
            "example": "9640a0d5a3be4eb8828d53cccb475db4",
            "description": "模板ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 5,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "name": {
            "type": "string",
            "description": "流水线名称"
          },
          "description": {
            "type": "string",
            "description": "流水线描述"
          },
          "is_publish": {
            "type": "boolean",
            "description": "是否为变更流水线"
          },
          "sources": {
            "type": "array",
            "description": "流水线源",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "example": "code",
                  "description": "流水线源类型"
                },
                "params": {
                  "description": "源参数",
                  "properties": {
                    "git_type": {
                      "type": "string",
                      "example": "codehub",
                      "description": "代码仓类型"
                    },
                    "codehub_id": {
                      "type": "string",
                      "example": 2111694089,
                      "description": "codehub代码仓ID"
                    },
                    "endpoint_id": {
                      "type": "string",
                      "example": "",
                      "description": "扩展点ID"
                    },
                    "default_branch": {
                      "type": "string",
                      "example": "master",
                      "description": "默认分支"
                    },
                    "git_url": {
                      "type": "string",
                      "example": "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/UnionSdkcsxm-wd00001/demo.git",
                      "description": "代码仓https地址"
                    },
                    "ssh_git_url": {
                      "type": "string",
                      "example": "git@codehub.devcloud.cn-north-7.ulanqab.huawei.com:UnionSdkcsxm-wd00001/demo.git",
                      "description": "代码仓ssh地址"
                    },
                    "web_url": {
                      "type": "string",
                      "example": "",
                      "description": "代码仓页面地址"
                    },
                    "repo_name": {
                      "type": "string",
                      "example": "demo",
                      "description": "代码仓名称"
                    },
                    "alias": {
                      "type": "string",
                      "example": "",
                      "description": "代码仓别名"
                    }
                  }
                }
              }
            }
          }
        },
        "required": [
          "project_id",
          "template_id"
        ]
      }
    },
    {
      "name": "ListPipelineTemplates",
      "description": "查询流水线模板列表",
      "inputSchema": {
        "type": "object",
        "properties": {
          "tenant_id": {
            "description": "租户ID",
            "type": "string",
            "in": "path"
          },
          "language": {
            "type": "string",
            "description": "创建模板时,用户选择的语言"
          },
          "is_system": {
            "type": "boolean",
            "description": "是否系统模板"
          },
          "name": {
            "type": "string",
            "description": "模板名称"
          },
          "offset": {
            "type": "integer",
            "format": "int64",
            "description": "偏移量,表示从此偏移量开始查询,offset大于等于0,默认为0"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "每次查询的条目数量"
          },
          "sort_key": {
            "type": "string",
            "description": "用于排序的字段,非必选。取值为:name,create_time"
          },
          "sort_dir": {
            "type": "string",
            "description": "排序类型,非必选。asc按排序字段升序,desc按排序字段降序"
          }
        },
        "required": [
          "tenant_id"
        ]
      }
    },
    {
      "name": "CreatePipelineByTemplate",
      "description": "基于模板快速创建流水线及流水线内任务",
      "inputSchema": {
        "type": "object",
        "properties": {
          "flow": {
            "type": "object",
            "description": "编排flow详情,描述流水线内各阶段任务的串并行关系。map类型数据,key为阶段名字,默认第一阶段initial,最后阶段为final,其余名字以'state_数字'标识。value为该阶段内任务(以'Task_数字'标识)以及后续阶段的标识。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            }
          },
          "states": {
            "type": "object",
            "description": "编排State详情,map类型数据。本字段为描述流水线基础编排数据之一,建议可通过流水线真实界面基于模板创建接口中获取",
            "additionalProperties": {
              "required": [
                "type",
                "name",
                "module_or_template_id",
                "module_or_template_name",
                "display_name",
                "dsl_method",
                "parameters",
                "is_manual_execution",
                "job_parameter_validate",
                "is_show_codehub_url",
                "is_execute",
                "job_id",
                "job_name",
                "project_id",
                "execution_mode"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "description": "任务类型"
                },
                "name": {
                  "type": "string",
                  "description": "任务名字"
                },
                "module_or_template_id": {
                  "type": "string",
                  "description": "模板任务ID"
                },
                "module_or_template_name": {
                  "type": "string",
                  "description": "模板任务名字"
                },
                "display_name": {
                  "type": "string",
                  "description": "任务在流水线页面展示名字"
                },
                "dsl_method": {
                  "type": "string",
                  "description": "流水线可挂载任务类型"
                },
                "parameters": {
                  "type": "object",
                  "description": "任务参数,map类型数据",
                  "additionalProperties": {
                    "type": "object"
                  }
                },
                "is_manual_execution": {
                  "type": "boolean",
                  "description": "是否手动执行"
                },
                "job_parameter_validate": {
                  "type": "boolean",
                  "description": "任务参数是否校验"
                },
                "is_show_codehub_url": {
                  "type": "boolean",
                  "description": "是否显示代码仓URL"
                },
                "is_execute": {
                  "type": "boolean",
                  "description": "是否执行"
                },
                "job_id": {
                  "type": "string",
                  "description": "执行任务ID"
                },
                "job_name": {
                  "type": "string",
                  "description": "执行任务名字"
                },
                "project_id": {
                  "type": "string",
                  "description": "任务所属项目ID"
                },
                "execution_mode": {
                  "type": "string",
                  "description": "控制阶段下任务的串并行(type是task的execution_mode值为null,type是stage的execution_mode可选parallel(并行)或者serial(串行))"
                }
              },
              "example": {
                "type": "task",
                "name": "Task_2",
                "module_or_template_id": "00012",
                "module_or_template_name": "Maven",
                "display_name": "默认任务",
                "dsl_method": "buildJob",
                "parameters": {},
                "is_manual_execution": false,
                "job_parameter_validate": false,
                "is_show_codehub_url": false,
                "is_execute": true,
                "job_id": "00012",
                "job_name": "Maven",
                "project_id": "3560a08e3c5143c5bb0236e0ef910926",
                "execution_mode": "parallel"
              },
              "description": "子任务参数",
              "type": "object"
            }
          },
          "workflow": {
            "required": [
              "parameter",
              "source",
              "name",
              "project_id",
              "project_name"
            ],
            "properties": {
              "parameter": {
                "type": "array",
                "description": "任务类型,list类型数据",
                "items": {
                  "required": [
                    "name",
                    "value",
                    "description",
                    "param_type",
                    "is_static",
                    "is_default"
                  ],
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "流水线参数名字"
                    },
                    "value": {
                      "type": "string",
                      "description": "流水线参数值"
                    },
                    "description": {
                      "type": "string",
                      "description": "流水线参数描述"
                    },
                    "param_type": {
                      "type": "string",
                      "description": "流水线参数类型"
                    },
                    "is_static": {
                      "type": "boolean",
                      "description": "是否静态参数"
                    },
                    "is_default": {
                      "type": "boolean",
                      "description": "是否默认参数"
                    }
                  },
                  "description": "流水线参数",
                  "example": {
                    "name": "pipeline2020",
                    "value": "cloudpipeline",
                    "description": "这是一个文本参数",
                    "paramtype": "normal",
                    "is_static": true,
                    "is_default": true
                  },
                  "type": "object"
                }
              },
              "source": {
                "type": "array",
                "description": "源码仓,list类型数据",
                "items": {
                  "type": "object",
                  "required": [
                    "codehub_name",
                    "branches",
                    "scm_type",
                    "hook_flag",
                    "branch",
                    "git_url",
                    "codehub_id",
                    "web_url",
                    "branch_list",
                    "init_id",
                    "disable"
                  ],
                  "properties": {
                    "codehub_name": {
                      "type": "string",
                      "description": "源码仓名字"
                    },
                    "branches": {
                      "type": "array",
                      "description": "触发分支",
                      "items": {
                        "type": "string"
                      }
                    },
                    "scm_type": {
                      "type": "string",
                      "description": "源码仓来源"
                    },
                    "hook_flag": {
                      "type": "boolean",
                      "description": "是否开启触发执行流水线功能"
                    },
                    "branch": {
                      "type": "string",
                      "description": "触发分支"
                    },
                    "git_url": {
                      "type": "string",
                      "description": "源码仓ssh地址"
                    },
                    "codehub_id": {
                      "type": "string",
                      "description": "源码仓ID"
                    },
                    "web_url": {
                      "type": "string",
                      "description": "源码仓首页url"
                    },
                    "branch_list": {
                      "type": "array",
                      "description": "分支列表",
                      "items": {
                        "type": "string"
                      }
                    },
                    "init_id": {
                      "type": "string",
                      "description": "初始化ID"
                    },
                    "disable": {
                      "type": "boolean",
                      "description": "是否废弃"
                    }
                  },
                  "description": "源码仓库参数",
                  "example": {
                    "codehub_name": "aabbccdd",
                    "branches": [],
                    "scm_type": "codehub",
                    "hook_flag": false,
                    "branch": "",
                    "git_url": "git@xxx/aabbccdd.git",
                    "codehub_id": "487938",
                    "web_url": "https://xxx/codehub/487938/home",
                    "branch_list": [],
                    "init_id": 1,
                    "disable": true
                  }
                }
              },
              "name": {
                "type": "string",
                "description": "流水线名字"
              },
              "project_id": {
                "type": "string",
                "description": "项目ID"
              },
              "project_name": {
                "type": "string",
                "description": "项目名字"
              }
            },
            "example": {
              "parameter": [
                {
                  "name": "pipeline2020",
                  "value": "cloudpipeline",
                  "description": "这是一个文本参数",
                  "paramtype": "normal",
                  "is_static": true,
                  "is_default": true
                }
              ],
              "source": [
                {
                  "codehub_name": "aabbccdd",
                  "branches": [],
                  "scm_type": "codehub",
                  "hook_flag": false,
                  "branch": "",
                  "git_url": "git@xxx/aabbccdd.git",
                  "codehub_id": "487938",
                  "web_url": "https://xxx/codehub/487938/home",
                  "branch_list": [],
                  "init_id": 1,
                  "disable": true
                }
              ],
              "name": "pipeline-20200316144601",
              "project_id": "3560a08e3c5143c5bb0236e0ef910926",
              "project_name": "CloudPipeline专用测试"
            },
            "description": "参数详情",
            "type": "object"
          }
        },
        "required": [
          "flow",
          "states",
          "workflow"
        ]
      }
    },
    {
      "name": "ListPipleineBuildResult",
      "description": "获取项目下流水线执行状况",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "example": 10,
            "description": "每次查询的条目数量",
            "type": "integer",
            "maximum": 500,
            "minimum": 10,
            "in": "query"
          },
          "offset": {
            "example": 10,
            "description": "偏移量,表示从此偏移量开始查询,offset大于等于0",
            "type": "integer",
            "maximum": 200000,
            "minimum": 0,
            "in": "query"
          },
          "end_date": {
            "example": "2020-08-01",
            "description": "结束日期,起始日期和结束日期间隔不超过一个月,查询包含结束日期",
            "type": "string",
            "in": "query"
          },
          "start_date": {
            "example": "2020-08-24",
            "description": "起始日期,起始日期和结束日期间隔不超过一个月,查询包含起始日期",
            "type": "string",
            "in": "query"
          },
          "project_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "项目id",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "query"
          }
        },
        "required": [
          "end_date",
          "limit",
          "offset",
          "project_id",
          "start_date"
        ]
      }
    },
    {
      "name": "StartNewPipeline",
      "description": "启动流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "in": "path"
          },
          "build_params": {
            "type": "array",
            "description": "启动流水线时的构建参数",
            "items": {
              "required": [
                "name",
                "value"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "构建参数名"
                },
                "value": {
                  "type": "string",
                  "description": "构建参数值,最大长度为8192"
                }
              },
              "type": "object"
            }
          }
        },
        "required": [
          "pipeline_id"
        ]
      }
    },
    {
      "name": "StopPipelineRun",
      "description": "停止流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_run_id": {
            "description": "流水线运行实例ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "pipeline_id",
          "pipeline_run_id",
          "project_id"
        ]
      }
    },
    {
      "name": "ListPipelines",
      "description": "获取流水线列表/获取项目下流水线执行状况",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "项目ID列表"
          },
          "component_id": {
            "type": "string",
            "description": "组件ID"
          },
          "name": {
            "type": "string",
            "description": "流水线名称"
          },
          "status": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "状态"
          },
          "is_publish": {
            "type": "boolean",
            "description": "是否为变更流水线"
          },
          "creator_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "创建人ID列表"
          },
          "executor_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "执行人ID列表"
          },
          "start_time": {
            "type": "string",
            "description": "开始时间"
          },
          "end_time": {
            "type": "string",
            "description": "结束时间"
          },
          "offset": {
            "type": "integer",
            "format": "int64",
            "description": "起始偏移"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "查询数量"
          },
          "sort_key": {
            "type": "string",
            "description": "排序字段名称"
          },
          "sort_dir": {
            "type": "string",
            "description": "排序规则"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ShowPipleineStatus",
      "description": "获取流水线状态,阶段及任务信息",
      "inputSchema": {
        "type": "object",
        "properties": {
          "build_id": {
            "example": "2",
            "description": "要获取状态的执行ID",
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "in": "query"
          },
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "要获取状态的流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "pipeline_id"
        ]
      }
    },
    {
      "name": "RemovePipeline",
      "description": "根据id删除流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "要删除的流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 5,
            "in": "path"
          }
        },
        "required": [
          "pipeline_id"
        ]
      }
    },
    {
      "name": "StopPipelineNew",
      "description": "停止流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "build_id": {
            "example": "1",
            "description": "流水线执行ID",
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "in": "query"
          },
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "build_id",
          "pipeline_id"
        ]
      }
    },
    {
      "name": "BatchShowPipelinesLatestStatus",
      "description": "批量获取流水线状态",
      "inputSchema": {
        "type": "object",
        "properties": {
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "project_id"
        ]
      }
    },
    {
      "name": "ListPipelineRuns",
      "description": "获取流水线执行记录",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "status": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "状态"
          },
          "start_time": {
            "type": "string",
            "description": "开始时间"
          },
          "end_time": {
            "type": "string",
            "description": "结束时间"
          },
          "offset": {
            "type": "integer",
            "format": "int64",
            "description": "起始偏移"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "查询大小"
          },
          "sort_key": {
            "type": "string",
            "description": "排序字段名称"
          },
          "sort_dir": {
            "type": "string",
            "description": "排序规则"
          }
        },
        "required": [
          "pipeline_id",
          "project_id"
        ]
      }
    },
    {
      "name": "ShowInstanceStatus",
      "description": "检查流水线创建状态",
      "inputSchema": {
        "type": "object",
        "properties": {
          "task_id": {
            "example": "eafaff0bf9094d3d8456d13dddf67b40",
            "description": "实例ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 5,
            "in": "path"
          }
        },
        "required": [
          "task_id"
        ]
      }
    },
    {
      "name": "DeletePipeline",
      "description": "删除流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "pipeline_id",
          "project_id"
        ]
      }
    },
    {
      "name": "BatchShowPipelinesStatus",
      "description": "批量获取流水线状态和阶段信息",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_ids": {
            "example": "8025ba36a87a4dd5af496708c2961817,413937e669914f95bed293617886c6c1",
            "description": "要获取状态的流水线ID,用逗号隔开",
            "type": "string",
            "maxLength": 3300,
            "minLength": 0,
            "in": "query"
          }
        },
        "required": [
          "pipeline_ids"
        ]
      }
    },
    {
      "name": "ListPipelineSimpleInfo",
      "description": "获取流水线列表接口",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_name": {
            "type": "string",
            "description": "流水线名字。参数存在,则进行模糊匹配"
          },
          "project_ids": {
            "type": "string",
            "description": "devCloud项目ids。该参数存在,则获取对应项目下的流水线列表,逗号分隔,id个数取值[0,10];如果不存在,则获取调用方所属租户的流水线列表"
          },
          "creator_ids": {
            "type": "string",
            "description": "创建人id。该参数存在,逗号分隔,id个数取值[0,10]"
          },
          "executor_ids": {
            "type": "string",
            "description": "执行人id。该参数存在,逗号分隔,id个数取值[0,10];"
          },
          "status": {
            "type": "string",
            "description": "流水线运行状态。取值范围:waiting,running,verifying,handling,suspending,completed"
          },
          "outcome": {
            "type": "string",
            "description": "流水线结果,标记流水线。error、success、aborted"
          },
          "sort_key": {
            "type": "string",
            "description": "用于排序的字段。取值为:pipeline_name,create_time,start_time"
          },
          "sort_dir": {
            "type": "string",
            "description": "排序类型。asc按排序字段升序,desc按排序字段降序"
          },
          "git_url": {
            "type": "string",
            "description": "codehub搜索链接:git@codehub.XXX.git;gitee搜索链接:git@gitee.com.XXX.git;github搜索链接:git@github.com.XXX.git等"
          },
          "offset": {
            "type": "integer",
            "description": "偏移量。表示从此偏移量开始查询,offset大于等于0,默认取值为0"
          },
          "limit": {
            "type": "integer",
            "description": "每次查询的条目数量。取值[10-50],默认取值为10"
          }
        }
      }
    },
    {
      "name": "ListTemplates",
      "description": "查询模板列表,支持分页查询,支持模板名字模糊查询",
      "inputSchema": {
        "type": "object",
        "properties": {
          "asc": {
            "example": true,
            "description": "是否正序",
            "type": "string",
            "in": "query"
          },
          "sort": {
            "example": "template_name",
            "description": "排序字段",
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "in": "query"
          },
          "name": {
            "example": "test",
            "description": "模板名称,匹配规则为模糊匹配",
            "type": "string",
            "maxLength": 60,
            "minLength": 1,
            "in": "query"
          },
          "limit": {
            "example": 20,
            "description": "每页显示的条目数量",
            "type": "integer",
            "format": "int32",
            "maximum": 100,
            "minimum": 1,
            "in": "query"
          },
          "offset": {
            "example": 0,
            "description": "偏移量,表示从此偏移量开始查询,offset大于等于0",
            "type": "integer",
            "format": "int32",
            "maximum": 100,
            "minimum": 0,
            "in": "query"
          },
          "is_build_in": {
            "example": false,
            "description": "是否内置模板",
            "type": "string",
            "in": "query"
          },
          "template_type": {
            "example": "pipeline",
            "description": "模板类型",
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "in": "query"
          }
        },
        "required": [
          "is_build_in",
          "template_type"
        ]
      }
    },
    {
      "name": "ShowPipelineTemplateDetail",
      "description": "查询模板详情",
      "inputSchema": {
        "type": "object",
        "properties": {
          "template_id": {
            "description": "模板ID",
            "type": "string",
            "in": "path"
          },
          "tenant_id": {
            "description": "租户ID",
            "type": "string",
            "in": "path"
          }
        },
        "required": [
          "template_id",
          "tenant_id"
        ]
      }
    },
    {
      "name": "ShowTemplateDetail",
      "description": "查询模板详情",
      "inputSchema": {
        "type": "object",
        "properties": {
          "source": {
            "example": "devstar",
            "description": "接口调用方",
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "in": "query"
          },
          "template_type": {
            "example": "pipeline",
            "description": "模板类型",
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "in": "query"
          },
          "template_id": {
            "example": "9640a0d5a3be4eb8828d53cccb475db4",
            "description": "模板ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 5,
            "in": "path"
          }
        },
        "required": [
          "template_id",
          "template_type"
        ]
      }
    },
    {
      "name": "ShowPipelineRunDetail",
      "description": "获取流水线状态/获取流水线执行详情",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_run_id": {
            "description": "流水线运行实例ID",
            "type": "string",
            "in": "query"
          },
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          }
        },
        "required": [
          "pipeline_id",
          "project_id"
        ]
      }
    },
    {
      "name": "RunPipeline",
      "description": "启动流水线",
      "inputSchema": {
        "type": "object",
        "properties": {
          "pipeline_id": {
            "example": "8025ba36a87a4dd5af496708c2961817",
            "description": "流水线ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "project_id": {
            "description": "项目ID",
            "type": "string",
            "maxLength": 32,
            "minLength": 32,
            "in": "path"
          },
          "sources": {
            "items": {
              "properties": {
                "type": {
                  "type": "string",
                  "example": "code",
                  "description": "源类型"
                },
                "params": {
                  "properties": {
                    "git_type": {
                      "type": "string",
                      "example": "codehub",
                      "description": "代码仓类型"
                    },
                    "codehub_id": {
                      "type": "string",
                      "example": 2111679719,
                      "description": "codehub代码库ID"
                    },
                    "default_branch": {
                      "type": "string",
                      "example": "master",
                      "description": "默认分支"
                    },
                    "git_url": {
                      "type": "string",
                      "example": "https://codehub.devcloud.cn-north-7.ulanqab.huawei.com/CloudPipelinezycs00001/2000.git",
                      "description": "git仓库https地址"
                    },
                    "endpoint_id": {
                      "type": "string",
                      "example": null,
                      "description": "扩展点ID"
                    },
                    "build_params": {
                      "properties": {
                        "build_type": {
                          "type": "string",
                          "example": "branch",
                          "description": "分支还是tag触发"
                        },
                        "target_branch": {
                          "type": "string",
                          "example": "master",
                          "description": "运行分支"
                        },
                        "tag": {
                          "type": "string",
                          "example": null,
                          "description": "运行tag"
                        },
                        "event_type": {
                          "type": "string",
                          "description": "触发事件类型",
                          "example": "Manual"
                        }
                      },
                      "description": "具体构建参数"
                    }
                  },
                  "description": "源参数"
                }
              }
            },
            "type": "array",
            "description": "使用的源"
          },
          "description": {
            "type": "string",
            "example": "版本发布",
            "description": "运行描述"
          },
          "variables": {
            "items": {
              "properties": {
                "name": {
                  "type": "string",
                  "example": "dfssda",
                  "description": "参数名"
                },
                "value": {
                  "type": "string",
                  "example": "fsaafsd",
                  "description": "参数值"
                }
              }
            },
            "type": "array",
            "description": "使用的自定义参数"
          },
          "choose_jobs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "1671505863593ad534b54-204e-4eff-8781-c6dfe3edd195"
            ],
            "description": "选择的任务"
          }
        },
        "required": [
          "pipeline_id",
          "project_id"
        ]
      }
    }
  ]
}
